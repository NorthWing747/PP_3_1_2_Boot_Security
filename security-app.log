2025-10-08 07:37:29.909  INFO 9744 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 9744 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 07:37:29.912 DEBUG 9744 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 07:37:29.912  INFO 9744 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 07:37:30.261  INFO 9744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 07:37:30.291  INFO 9744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2025-10-08 07:37:30.574  INFO 9744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 07:37:30.580  INFO 9744 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 07:37:30.580  INFO 9744 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 07:37:30.629  INFO 9744 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 07:37:30.629  INFO 9744 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 679 ms
2025-10-08 07:37:30.728  INFO 9744 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 07:37:30.762  INFO 9744 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 07:37:30.876  INFO 9744 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 07:37:30.935  INFO 9744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 07:37:31.031  INFO 9744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 07:37:31.042  INFO 9744 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 07:37:31.437  INFO 9744 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 07:37:31.442  INFO 9744 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 07:37:31.468  WARN 9744 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 07:37:31.657  INFO 9744 --- [main] r.k.s.b.demo.service.UserServiceImpl     : UserServiceImpl инициализирован
2025-10-08 07:37:31.657 DEBUG 9744 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Проверка пользователей без ролей...
2025-10-08 07:37:31.723 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 07:37:31.737 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.738 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [26]
2025-10-08 07:37:31.745 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.745 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 07:37:31.746 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.746 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 07:37:31.747 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.747 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 07:37:31.747 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.748 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 07:37:31.748 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.748 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 07:37:31.749 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.749 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 07:37:31.769 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 07:37:31.769 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 07:37:31.771 DEBUG 9744 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Пользователи без ролей не найдены
2025-10-08 07:37:31.771  INFO 9744 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Начало инициализации тестовых данных...
2025-10-08 07:37:31.771 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 07:37:31.772 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 07:37:31.773 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 07:37:31.773 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2025-10-08 07:37:31.775 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as col_0_0_ 
    from
        users user0_ 
    where
        user0_.username=? limit ?
2025-10-08 07:37:31.776 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [user]
2025-10-08 07:37:31.776 DEBUG 9744 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Тестовый пользователь 'user' уже существует
2025-10-08 07:37:31.777 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as col_0_0_ 
    from
        users user0_ 
    where
        user0_.username=? limit ?
2025-10-08 07:37:31.777 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 07:37:31.777 DEBUG 9744 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Тестовый администратор 'admin' уже существует
2025-10-08 07:37:31.777 DEBUG 9744 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Проверка пользователей без ролей...
2025-10-08 07:37:31.778 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 07:37:31.779 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.779 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [26]
2025-10-08 07:37:31.780 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.780 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 07:37:31.783 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.783 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 07:37:31.784 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.784 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 07:37:31.784 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.785 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 07:37:31.785 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.785 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 07:37:31.786 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:31.786 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 07:37:31.787 DEBUG 9744 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 07:37:31.787 TRACE 9744 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 07:37:31.787 DEBUG 9744 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Пользователи без ролей не найдены
2025-10-08 07:37:31.787  INFO 9744 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Инициализация тестовых данных завершена успешно
2025-10-08 07:37:31.869  INFO 9744 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f9d40b3, org.springframework.security.web.context.SecurityContextPersistenceFilter@34ea86ff, org.springframework.security.web.header.HeaderWriterFilter@554e9509, org.springframework.security.web.csrf.CsrfFilter@325e03b, org.springframework.security.web.authentication.logout.LogoutFilter@36c45149, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2a7392a3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@626b9092, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e663ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ca2a03f, org.springframework.security.web.session.SessionManagementFilter@772bc4c9, org.springframework.security.web.access.ExceptionTranslationFilter@42a7e7e1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79b0956e]
2025-10-08 07:37:31.932 DEBUG 9744 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 07:37:31.973 DEBUG 9744 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 07:37:31.982 DEBUG 9744 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 07:37:31.989 DEBUG 9744 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 07:37:31.993 DEBUG 9744 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 07:37:32.071  INFO 9744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 07:37:32.076  INFO 9744 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.379 seconds (JVM running for 2.8)
2025-10-08 07:37:48.827  INFO 9744 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 07:37:48.828  INFO 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 07:37:48.828 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 07:37:48.828 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 07:37:48.828 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 07:37:48.828 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6ac4f31d
2025-10-08 07:37:48.828 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@627a890f
2025-10-08 07:37:48.828 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 07:37:48.828  INFO 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-10-08 07:37:48.840 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-10-08 07:37:48.844 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 07:37:48.847 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 07:37:48.986 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 07:37:49.826 DEBUG 9744 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 07:37:49.827 DEBUG 9744 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 07:37:49.828 DEBUG 9744 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-10-08 07:37:49.832 DEBUG 9744 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 07:37:56.671 DEBUG 9744 --- [http-nio-8080-exec-4] r.k.s.b.demo.service.UserServiceImpl     : Попытка загрузки пользователя по логину: admin
2025-10-08 07:37:56.673 DEBUG 9744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 07:37:56.674 TRACE 9744 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 07:37:56.675 DEBUG 9744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:56.675 TRACE 9744 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 07:37:56.676 DEBUG 9744 --- [http-nio-8080-exec-4] r.k.s.b.demo.service.UserServiceImpl     : Пользователь найден: admin (роли: [ROLE_ADMIN])
2025-10-08 07:37:56.763 DEBUG 9744 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 07:37:56.764 DEBUG 9744 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 07:37:56.770 DEBUG 9744 --- [http-nio-8080-exec-5] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 07:37:56.770 DEBUG 9744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 07:37:56.771 DEBUG 9744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:56.772 TRACE 9744 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [26]
2025-10-08 07:37:56.772 DEBUG 9744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:56.773 TRACE 9744 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 07:37:56.773 DEBUG 9744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:56.774 TRACE 9744 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 07:37:56.774 DEBUG 9744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:56.774 TRACE 9744 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 07:37:56.775 DEBUG 9744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:56.775 TRACE 9744 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 07:37:56.775 DEBUG 9744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:56.775 TRACE 9744 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 07:37:56.776 DEBUG 9744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:37:56.776 TRACE 9744 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 07:37:56.776 DEBUG 9744 --- [http-nio-8080-exec-5] r.k.s.b.demo.service.UserServiceImpl     : Найдено пользователей: 7
2025-10-08 07:37:56.779 DEBUG 9744 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 07:37:56.804 DEBUG 9744 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 07:37:56.891 DEBUG 9744 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/favicon.ico", parameters={}
2025-10-08 07:37:56.892 DEBUG 9744 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-10-08 07:37:56.894 DEBUG 9744 --- [http-nio-8080-exec-6] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-10-08 07:37:56.894 DEBUG 9744 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-10-08 07:37:56.902 DEBUG 9744 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-10-08 07:37:56.903 DEBUG 9744 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-10-08 07:37:56.911 DEBUG 9744 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-10-08 07:37:56.912 DEBUG 9744 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 08 07:37:56 MSK 2025, status=404, error=Not Found, message=No message available,  (truncated)...]
2025-10-08 07:37:56.937 DEBUG 9744 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-10-08 07:38:01.738 DEBUG 9744 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/admin/deleteUser", parameters={masked}
2025-10-08 07:38:01.739 DEBUG 9744 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#deleteUser(Long)
2025-10-08 07:38:01.746  INFO 9744 --- [http-nio-8080-exec-7] r.k.s.b.demo.service.UserServiceImpl     : Попытка удаления пользователя с ID: 26
2025-10-08 07:38:01.746 DEBUG 9744 --- [http-nio-8080-exec-7] r.k.s.b.demo.service.UserServiceImpl     : Запрос пользователя по ID: 26
2025-10-08 07:38:01.748 DEBUG 9744 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 07:38:01.748 TRACE 9744 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [26]
2025-10-08 07:38:01.749 DEBUG 9744 --- [http-nio-8080-exec-7] r.k.s.b.demo.service.UserServiceImpl     : Пользователь найден: andrey (ID: 26)
2025-10-08 07:38:01.755  INFO 9744 --- [http-nio-8080-exec-7] r.k.s.b.demo.service.UserServiceImpl     : Пользователь успешно удален: andrey (ID: 26)
2025-10-08 07:38:01.758 DEBUG 9744 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 07:38:01.759 TRACE 9744 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [26]
2025-10-08 07:38:01.760 DEBUG 9744 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        id=?
2025-10-08 07:38:01.760 TRACE 9744 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [26]
2025-10-08 07:38:01.766 DEBUG 9744 --- [http-nio-8080-exec-7] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 07:38:01.766 DEBUG 9744 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 07:38:01.776 DEBUG 9744 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 07:38:01.776 DEBUG 9744 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 07:38:01.778 DEBUG 9744 --- [http-nio-8080-exec-8] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 07:38:01.778 DEBUG 9744 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 07:38:01.779 DEBUG 9744 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:01.779 TRACE 9744 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 07:38:01.780 DEBUG 9744 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:01.780 TRACE 9744 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 07:38:01.781 DEBUG 9744 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:01.781 TRACE 9744 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 07:38:01.781 DEBUG 9744 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:01.781 TRACE 9744 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 07:38:01.781 DEBUG 9744 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:01.782 TRACE 9744 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 07:38:01.782 DEBUG 9744 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:01.782 TRACE 9744 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 07:38:01.782 DEBUG 9744 --- [http-nio-8080-exec-8] r.k.s.b.demo.service.UserServiceImpl     : Найдено пользователей: 6
2025-10-08 07:38:01.783 DEBUG 9744 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 07:38:01.792 DEBUG 9744 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 07:38:04.187 DEBUG 9744 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 07:38:04.187 DEBUG 9744 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 07:38:04.190 DEBUG 9744 --- [http-nio-8080-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 07:38:04.193 DEBUG 9744 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 07:38:06.018 DEBUG 9744 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 07:38:06.018 DEBUG 9744 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 07:38:06.019 DEBUG 9744 --- [http-nio-8080-exec-10] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 07:38:06.019 DEBUG 9744 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 07:38:06.020 DEBUG 9744 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:06.020 TRACE 9744 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 07:38:06.021 DEBUG 9744 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:06.021 TRACE 9744 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 07:38:06.021 DEBUG 9744 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:06.021 TRACE 9744 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 07:38:06.022 DEBUG 9744 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:06.022 TRACE 9744 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 07:38:06.023 DEBUG 9744 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:06.023 TRACE 9744 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 07:38:06.024 DEBUG 9744 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:06.024 TRACE 9744 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 07:38:06.025 DEBUG 9744 --- [http-nio-8080-exec-10] r.k.s.b.demo.service.UserServiceImpl     : Найдено пользователей: 6
2025-10-08 07:38:06.026 DEBUG 9744 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 07:38:06.032 DEBUG 9744 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 07:38:09.234 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=14", parameters={masked}
2025-10-08 07:38:09.234 DEBUG 9744 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 07:38:09.235 DEBUG 9744 --- [http-nio-8080-exec-1] r.k.s.b.demo.service.UserServiceImpl     : Запрос пользователя по ID: 14
2025-10-08 07:38:09.235 DEBUG 9744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 07:38:09.235 TRACE 9744 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 07:38:09.236 DEBUG 9744 --- [http-nio-8080-exec-1] r.k.s.b.demo.service.UserServiceImpl     : Пользователь найден: user (ID: 14)
2025-10-08 07:38:09.238 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 07:38:09.249 DEBUG 9744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 07:38:11.169 DEBUG 9744 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 07:38:11.169 DEBUG 9744 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 07:38:11.170 DEBUG 9744 --- [http-nio-8080-exec-2] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 07:38:11.170 DEBUG 9744 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 07:38:11.171 DEBUG 9744 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:11.171 TRACE 9744 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 07:38:11.172 DEBUG 9744 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:11.173 TRACE 9744 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 07:38:11.174 DEBUG 9744 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:11.174 TRACE 9744 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 07:38:11.175 DEBUG 9744 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:11.175 TRACE 9744 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 07:38:11.176 DEBUG 9744 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:11.176 TRACE 9744 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 07:38:11.176 DEBUG 9744 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 07:38:11.176 TRACE 9744 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 07:38:11.177 DEBUG 9744 --- [http-nio-8080-exec-2] r.k.s.b.demo.service.UserServiceImpl     : Найдено пользователей: 6
2025-10-08 07:38:11.178 DEBUG 9744 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 07:38:11.183 DEBUG 9744 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 07:38:15.126  INFO 9744 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 07:38:15.127  INFO 9744 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 07:38:15.132  INFO 9744 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 08:44:52.836  INFO 13188 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 13188 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 08:44:52.838 DEBUG 13188 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 08:44:52.838  INFO 13188 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 08:44:53.213  INFO 13188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 08:44:53.243  INFO 13188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 08:44:53.518  INFO 13188 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 08:44:53.523  INFO 13188 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 08:44:53.523  INFO 13188 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 08:44:53.565  INFO 13188 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 08:44:53.565  INFO 13188 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 676 ms
2025-10-08 08:44:53.654  INFO 13188 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 08:44:53.681  INFO 13188 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 08:44:53.773  INFO 13188 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 08:44:53.826  INFO 13188 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 08:44:53.918  INFO 13188 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 08:44:53.926  INFO 13188 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 08:44:54.265  INFO 13188 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 08:44:54.270  INFO 13188 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 08:44:54.296  WARN 13188 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 08:44:54.480  INFO 13188 --- [main] r.k.s.b.demo.service.UserServiceImpl     : UserServiceImpl инициализирован
2025-10-08 08:44:54.480  INFO 13188 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Начало инициализации тестовых данных...
2025-10-08 08:44:54.547 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:44:54.549 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 08:44:54.558 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:44:54.558 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2025-10-08 08:44:54.561 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as col_0_0_ 
    from
        users user0_ 
    where
        user0_.username=? limit ?
2025-10-08 08:44:54.561 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [user]
2025-10-08 08:44:54.562 DEBUG 13188 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Тестовый пользователь 'user' уже существует
2025-10-08 08:44:54.563 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as col_0_0_ 
    from
        users user0_ 
    where
        user0_.username=? limit ?
2025-10-08 08:44:54.563 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 08:44:54.563 DEBUG 13188 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Тестовый администратор 'admin' уже существует
2025-10-08 08:44:54.563 DEBUG 13188 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Проверка пользователей без ролей...
2025-10-08 08:44:54.577 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 08:44:54.583 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.583 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 08:44:54.588 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.588 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 08:44:54.589 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.589 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 08:44:54.590 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.590 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 08:44:54.590 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.590 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:44:54.591 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.591 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 08:44:54.593 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:44:54.593 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 08:44:54.593 DEBUG 13188 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Пользователи без ролей не найдены
2025-10-08 08:44:54.593  INFO 13188 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Инициализация тестовых данных завершена успешно
2025-10-08 08:44:54.593 DEBUG 13188 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Проверка пользователей без ролей...
2025-10-08 08:44:54.594 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 08:44:54.595 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.595 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 08:44:54.596 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.596 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 08:44:54.596 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.596 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 08:44:54.597 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.597 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 08:44:54.597 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.597 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:44:54.598 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:44:54.598 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 08:44:54.599 DEBUG 13188 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:44:54.599 TRACE 13188 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 08:44:54.600 DEBUG 13188 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Пользователи без ролей не найдены
2025-10-08 08:44:54.678  INFO 13188 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46c9ee28, org.springframework.security.web.context.SecurityContextPersistenceFilter@7a13ad55, org.springframework.security.web.header.HeaderWriterFilter@22c0344e, org.springframework.security.web.csrf.CsrfFilter@644f6e89, org.springframework.security.web.authentication.logout.LogoutFilter@6bd28e4a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6ad0cd43, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20a116a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d2baa56, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31f5ffb9, org.springframework.security.web.session.SessionManagementFilter@745c8a04, org.springframework.security.web.access.ExceptionTranslationFilter@c31419f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b756a62]
2025-10-08 08:44:54.741 DEBUG 13188 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 08:44:54.781 DEBUG 13188 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 08:44:54.790 DEBUG 13188 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 08:44:54.798 DEBUG 13188 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 08:44:54.802 DEBUG 13188 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 08:44:54.884  INFO 13188 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 08:44:54.889  INFO 13188 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.285 seconds (JVM running for 2.65)
2025-10-08 08:44:59.760  INFO 13188 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 08:44:59.760  INFO 13188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 08:44:59.761 DEBUG 13188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 08:44:59.761 DEBUG 13188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 08:44:59.761 DEBUG 13188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 08:44:59.761 DEBUG 13188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@477906cf
2025-10-08 08:44:59.761 DEBUG 13188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@18c26588
2025-10-08 08:44:59.761 DEBUG 13188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 08:44:59.761  INFO 13188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 08:44:59.795 DEBUG 13188 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 08:44:59.798 DEBUG 13188 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 08:44:59.802 DEBUG 13188 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 08:44:59.936 DEBUG 13188 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 08:45:07.103 DEBUG 13188 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 08:45:07.103 TRACE 13188 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 08:45:07.104 DEBUG 13188 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:45:07.105 TRACE 13188 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:45:07.193 DEBUG 13188 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 08:45:07.194 DEBUG 13188 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 08:45:07.201 DEBUG 13188 --- [http-nio-8080-exec-4] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 08:45:07.201 DEBUG 13188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 08:45:07.202 DEBUG 13188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:45:07.202 TRACE 13188 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 08:45:07.203 DEBUG 13188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:45:07.203 TRACE 13188 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 08:45:07.204 DEBUG 13188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:45:07.204 TRACE 13188 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 08:45:07.204 DEBUG 13188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:45:07.204 TRACE 13188 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 08:45:07.205 DEBUG 13188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:45:07.205 TRACE 13188 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:45:07.205 DEBUG 13188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:45:07.205 TRACE 13188 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 08:45:07.206 DEBUG 13188 --- [http-nio-8080-exec-4] r.k.s.b.demo.service.UserServiceImpl     : Найдено пользователей: 6
2025-10-08 08:45:07.209 DEBUG 13188 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 08:45:07.235 DEBUG 13188 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 08:45:09.965 DEBUG 13188 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 08:45:09.965 DEBUG 13188 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 08:45:09.969 DEBUG 13188 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 08:45:09.973 DEBUG 13188 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 08:45:32.865 DEBUG 13188 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/admin/addUser", parameters={masked}
2025-10-08 08:45:32.866  WARN 13188 --- [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-10-08 08:45:32.866 DEBUG 13188 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-10-08 08:45:32.872 DEBUG 13188 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={masked}
2025-10-08 08:45:32.873 DEBUG 13188 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-10-08 08:45:32.879 DEBUG 13188 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-10-08 08:45:32.881 DEBUG 13188 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 405
2025-10-08 08:48:30.213  INFO 13188 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 08:48:30.215  INFO 13188 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 08:48:30.219  INFO 13188 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 08:48:35.314  INFO 4924 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 4924 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 08:48:35.315 DEBUG 4924 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 08:48:35.315  INFO 4924 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 08:48:35.649  INFO 4924 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 08:48:35.682  INFO 4924 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2025-10-08 08:48:35.946  INFO 4924 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 08:48:35.951  INFO 4924 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 08:48:35.951  INFO 4924 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 08:48:35.990  INFO 4924 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 08:48:35.990  INFO 4924 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 645 ms
2025-10-08 08:48:36.081  INFO 4924 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 08:48:36.109  INFO 4924 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 08:48:36.198  INFO 4924 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 08:48:36.251  INFO 4924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 08:48:36.341  INFO 4924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 08:48:36.349  INFO 4924 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 08:48:36.703  INFO 4924 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 08:48:36.708  INFO 4924 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 08:48:36.734  WARN 4924 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 08:48:36.922  INFO 4924 --- [main] r.k.s.b.demo.service.UserServiceImpl     : UserServiceImpl инициализирован
2025-10-08 08:48:36.923  INFO 4924 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Начало инициализации тестовых данных...
2025-10-08 08:48:36.990 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:48:36.991 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 08:48:37.006 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:48:37.006 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2025-10-08 08:48:37.009 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as col_0_0_ 
    from
        users user0_ 
    where
        user0_.username=? limit ?
2025-10-08 08:48:37.010 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [user]
2025-10-08 08:48:37.011 DEBUG 4924 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Тестовый пользователь 'user' уже существует
2025-10-08 08:48:37.011 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as col_0_0_ 
    from
        users user0_ 
    where
        user0_.username=? limit ?
2025-10-08 08:48:37.011 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 08:48:37.012 DEBUG 4924 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Тестовый администратор 'admin' уже существует
2025-10-08 08:48:37.012 DEBUG 4924 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Проверка пользователей без ролей...
2025-10-08 08:48:37.025 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 08:48:37.031 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.032 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 08:48:37.036 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.037 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 08:48:37.037 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.038 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 08:48:37.038 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.038 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 08:48:37.039 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.039 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:48:37.040 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.040 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 08:48:37.042 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:48:37.042 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 08:48:37.042 DEBUG 4924 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Пользователи без ролей не найдены
2025-10-08 08:48:37.043  INFO 4924 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Инициализация тестовых данных завершена успешно
2025-10-08 08:48:37.043 DEBUG 4924 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Проверка пользователей без ролей...
2025-10-08 08:48:37.043 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 08:48:37.044 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.044 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 08:48:37.045 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.045 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 08:48:37.045 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.045 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 08:48:37.046 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.046 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 08:48:37.046 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.046 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:48:37.047 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:37.047 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 08:48:37.048 DEBUG 4924 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:48:37.048 TRACE 4924 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 08:48:37.049 DEBUG 4924 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Пользователи без ролей не найдены
2025-10-08 08:48:37.126  INFO 4924 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fdf029a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7267006e, org.springframework.security.web.header.HeaderWriterFilter@210e2f2f, org.springframework.security.web.csrf.CsrfFilter@758311ed, org.springframework.security.web.authentication.logout.LogoutFilter@20e9c165, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6e0f259e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59d29065, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a238a8e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63896cf7, org.springframework.security.web.session.SessionManagementFilter@43dddfdd, org.springframework.security.web.access.ExceptionTranslationFilter@4840ec68, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c81ddab]
2025-10-08 08:48:37.187 DEBUG 4924 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 08:48:37.224 DEBUG 4924 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 08:48:37.232 DEBUG 4924 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 08:48:37.240 DEBUG 4924 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 08:48:37.245 DEBUG 4924 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 08:48:37.326  INFO 4924 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 08:48:37.331  INFO 4924 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.218 seconds (JVM running for 2.617)
2025-10-08 08:48:42.158  INFO 4924 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 08:48:42.158  INFO 4924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 08:48:42.158 DEBUG 4924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 08:48:42.158 DEBUG 4924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 08:48:42.158 DEBUG 4924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 08:48:42.159 DEBUG 4924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5b827796
2025-10-08 08:48:42.159 DEBUG 4924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@227fc322
2025-10-08 08:48:42.159 DEBUG 4924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 08:48:42.159  INFO 4924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 08:48:42.176 DEBUG 4924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for POST "/access-denied", parameters={masked}
2025-10-08 08:48:42.180 DEBUG 4924 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="access-denied"]
2025-10-08 08:48:42.181  WARN 4924 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-10-08 08:48:42.181 DEBUG 4924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 405
2025-10-08 08:48:42.197 DEBUG 4924 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 08:48:42.198 DEBUG 4924 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 08:48:42.202 DEBUG 4924 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 08:48:42.325 DEBUG 4924 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 08:48:49.048 DEBUG 4924 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 08:48:49.048 TRACE 4924 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 08:48:49.049 DEBUG 4924 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:49.049 TRACE 4924 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:48:49.136 DEBUG 4924 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 08:48:49.137 DEBUG 4924 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 08:48:49.143 DEBUG 4924 --- [http-nio-8080-exec-4] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 08:48:49.143 DEBUG 4924 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 08:48:49.144 DEBUG 4924 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:49.145 TRACE 4924 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 08:48:49.145 DEBUG 4924 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:49.145 TRACE 4924 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 08:48:49.146 DEBUG 4924 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:49.146 TRACE 4924 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 08:48:49.146 DEBUG 4924 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:49.147 TRACE 4924 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 08:48:49.147 DEBUG 4924 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:49.147 TRACE 4924 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:48:49.147 DEBUG 4924 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:49.148 TRACE 4924 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 08:48:49.148 DEBUG 4924 --- [http-nio-8080-exec-4] r.k.s.b.demo.service.UserServiceImpl     : Найдено пользователей: 6
2025-10-08 08:48:49.151 DEBUG 4924 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 08:48:49.174 DEBUG 4924 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 08:48:55.186 DEBUG 4924 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/admin/deleteUser", parameters={masked}
2025-10-08 08:48:55.186 DEBUG 4924 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#deleteUser(Long)
2025-10-08 08:48:55.194  INFO 4924 --- [http-nio-8080-exec-5] r.k.s.b.demo.service.UserServiceImpl     : Попытка удаления пользователя с ID: 17
2025-10-08 08:48:55.194 DEBUG 4924 --- [http-nio-8080-exec-5] r.k.s.b.demo.service.UserServiceImpl     : Запрос пользователя по ID: 17
2025-10-08 08:48:55.196 DEBUG 4924 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 08:48:55.196 TRACE 4924 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 08:48:55.197 DEBUG 4924 --- [http-nio-8080-exec-5] r.k.s.b.demo.service.UserServiceImpl     : Пользователь найден: user1 (ID: 17)
2025-10-08 08:48:55.202  INFO 4924 --- [http-nio-8080-exec-5] r.k.s.b.demo.service.UserServiceImpl     : Пользователь успешно удален: user1 (ID: 17)
2025-10-08 08:48:55.206 DEBUG 4924 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 08:48:55.206 TRACE 4924 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 08:48:55.208 DEBUG 4924 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        id=?
2025-10-08 08:48:55.208 TRACE 4924 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]
2025-10-08 08:48:55.213 DEBUG 4924 --- [http-nio-8080-exec-5] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 08:48:55.214 DEBUG 4924 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 08:48:55.223 DEBUG 4924 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 08:48:55.224 DEBUG 4924 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 08:48:55.225 DEBUG 4924 --- [http-nio-8080-exec-6] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 08:48:55.225 DEBUG 4924 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 08:48:55.226 DEBUG 4924 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:55.226 TRACE 4924 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 08:48:55.227 DEBUG 4924 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:55.227 TRACE 4924 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 08:48:55.228 DEBUG 4924 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:55.228 TRACE 4924 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 08:48:55.228 DEBUG 4924 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:55.229 TRACE 4924 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:48:55.229 DEBUG 4924 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:48:55.229 TRACE 4924 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 08:48:55.230 DEBUG 4924 --- [http-nio-8080-exec-6] r.k.s.b.demo.service.UserServiceImpl     : Найдено пользователей: 5
2025-10-08 08:48:55.231 DEBUG 4924 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 08:48:55.243 DEBUG 4924 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 08:48:58.254 DEBUG 4924 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 08:48:58.254 DEBUG 4924 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 08:48:58.257 DEBUG 4924 --- [http-nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 08:48:58.260 DEBUG 4924 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 08:49:16.253 DEBUG 4924 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 08:49:16.255 DEBUG 4924 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-10-08 08:49:16.260 DEBUG 4924 --- [http-nio-8080-exec-8] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-10-08 08:49:16.261 DEBUG 4924 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-10-08 08:49:16.265 DEBUG 4924 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={masked}
2025-10-08 08:49:16.266 DEBUG 4924 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-10-08 08:49:16.272 DEBUG 4924 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-10-08 08:49:16.273 DEBUG 4924 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-10-08 08:53:16.326  INFO 4924 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 08:53:16.327  INFO 4924 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 08:53:16.332  INFO 4924 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 08:53:21.097  INFO 12656 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 12656 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 08:53:21.098 DEBUG 12656 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 08:53:21.098  INFO 12656 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 08:53:21.430  INFO 12656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 08:53:21.459  INFO 12656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 08:53:21.724  INFO 12656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 08:53:21.729  INFO 12656 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 08:53:21.729  INFO 12656 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 08:53:21.771  INFO 12656 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 08:53:21.772  INFO 12656 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 644 ms
2025-10-08 08:53:21.862  INFO 12656 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 08:53:21.886  INFO 12656 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 08:53:21.974  INFO 12656 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 08:53:22.025  INFO 12656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 08:53:22.117  INFO 12656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 08:53:22.126  INFO 12656 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 08:53:22.471  INFO 12656 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 08:53:22.476  INFO 12656 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 08:53:22.500  WARN 12656 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 08:53:22.683  INFO 12656 --- [main] r.k.s.b.demo.service.UserServiceImpl     : UserServiceImpl инициализирован
2025-10-08 08:53:22.684 DEBUG 12656 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Проверка пользователей без ролей...
2025-10-08 08:53:22.752 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 08:53:22.763 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:22.764 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 08:53:22.769 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:22.769 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 08:53:22.770 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:22.770 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 08:53:22.770 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:22.770 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:53:22.771 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:22.771 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 08:53:22.791 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:53:22.792 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 08:53:22.794 DEBUG 12656 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Пользователи без ролей не найдены
2025-10-08 08:53:22.794  INFO 12656 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Начало инициализации тестовых данных...
2025-10-08 08:53:22.794 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:53:22.794 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 08:53:22.795 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:53:22.795 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2025-10-08 08:53:22.798 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as col_0_0_ 
    from
        users user0_ 
    where
        user0_.username=? limit ?
2025-10-08 08:53:22.798 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [user]
2025-10-08 08:53:22.799 DEBUG 12656 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Тестовый пользователь 'user' уже существует
2025-10-08 08:53:22.799 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as col_0_0_ 
    from
        users user0_ 
    where
        user0_.username=? limit ?
2025-10-08 08:53:22.799 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 08:53:22.800 DEBUG 12656 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Тестовый администратор 'admin' уже существует
2025-10-08 08:53:22.800 DEBUG 12656 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Проверка пользователей без ролей...
2025-10-08 08:53:22.800 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 08:53:22.801 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:22.801 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 08:53:22.802 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:22.802 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 08:53:22.803 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:22.803 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 08:53:22.803 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:22.803 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:53:22.804 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:22.804 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 08:53:22.805 DEBUG 12656 --- [main] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:53:22.805 TRACE 12656 --- [main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 08:53:22.805 DEBUG 12656 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Пользователи без ролей не найдены
2025-10-08 08:53:22.805  INFO 12656 --- [main] r.k.s.b.demo.service.UserServiceImpl     : Инициализация тестовых данных завершена успешно
2025-10-08 08:53:22.881  INFO 12656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b74a67a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7167d81b, org.springframework.security.web.header.HeaderWriterFilter@2b409174, org.springframework.security.web.csrf.CsrfFilter@2352c21f, org.springframework.security.web.authentication.logout.LogoutFilter@48126a17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7a7f2247, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34fcc5e3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2cb53bfc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e25282d, org.springframework.security.web.session.SessionManagementFilter@229d508c, org.springframework.security.web.access.ExceptionTranslationFilter@d17d554, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@152dbf8e]
2025-10-08 08:53:22.939 DEBUG 12656 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 08:53:22.975 DEBUG 12656 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 08:53:22.983 DEBUG 12656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 08:53:22.991 DEBUG 12656 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 08:53:22.995 DEBUG 12656 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 08:53:23.078  INFO 12656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 08:53:23.082  INFO 12656 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.192 seconds (JVM running for 2.562)
2025-10-08 08:53:28.860  INFO 12656 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 08:53:28.860  INFO 12656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 08:53:28.860 DEBUG 12656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 08:53:28.860 DEBUG 12656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 08:53:28.860 DEBUG 12656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 08:53:28.861 DEBUG 12656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1e34840f
2025-10-08 08:53:28.861 DEBUG 12656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@36f80ceb
2025-10-08 08:53:28.861 DEBUG 12656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 08:53:28.861  INFO 12656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 08:53:28.878 DEBUG 12656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for POST "/access-denied", parameters={masked}
2025-10-08 08:53:28.882 DEBUG 12656 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="access-denied"]
2025-10-08 08:53:28.884  WARN 12656 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-10-08 08:53:28.884 DEBUG 12656 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 405
2025-10-08 08:53:28.902 DEBUG 12656 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 08:53:28.903 DEBUG 12656 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 08:53:28.906 DEBUG 12656 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 08:53:29.033 DEBUG 12656 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 08:53:36.890 DEBUG 12656 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 08:53:36.891 TRACE 12656 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 08:53:36.893 DEBUG 12656 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:36.893 TRACE 12656 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:53:36.985 DEBUG 12656 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 08:53:36.986 DEBUG 12656 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 08:53:36.992 DEBUG 12656 --- [http-nio-8080-exec-4] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 08:53:36.992 DEBUG 12656 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 08:53:36.993 DEBUG 12656 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:36.993 TRACE 12656 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 08:53:36.994 DEBUG 12656 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:36.994 TRACE 12656 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 08:53:36.995 DEBUG 12656 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:36.995 TRACE 12656 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 08:53:36.995 DEBUG 12656 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:36.995 TRACE 12656 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 08:53:36.996 DEBUG 12656 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 08:53:36.996 TRACE 12656 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 08:53:36.997 DEBUG 12656 --- [http-nio-8080-exec-4] r.k.s.b.demo.service.UserServiceImpl     : Найдено пользователей: 5
2025-10-08 08:53:37.000 DEBUG 12656 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 08:53:37.022 DEBUG 12656 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 08:53:38.517 DEBUG 12656 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 08:53:38.517 DEBUG 12656 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 08:53:38.521 DEBUG 12656 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 08:53:38.524 DEBUG 12656 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 08:53:56.080 DEBUG 12656 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 08:53:56.080 DEBUG 12656 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, List)
2025-10-08 08:53:56.090 DEBUG 12656 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 08:53:56.090 TRACE 12656 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [USER]
2025-10-08 08:53:56.093 DEBUG 12656 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Default role not found
2025-10-08 08:53:56.096 ERROR 12656 --- [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Default role not found] with root cause

java.lang.RuntimeException: Default role not found
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl.lambda$save$5(UserServiceImpl.java:172) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl.save(UserServiceImpl.java:172) ~[classes/:na]
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl$$FastClassBySpringCGLIB$$157b6548.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl$$EnhancerBySpringCGLIB$$28849621.save(<generated>) ~[classes/:na]
	at ru.kata.spring.boot_security.demo.controller.AdminController.saveUser(AdminController.java:45) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-10-08 08:53:56.101 DEBUG 12656 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={masked}
2025-10-08 08:53:56.101 DEBUG 12656 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-10-08 08:53:56.107 DEBUG 12656 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-10-08 08:53:56.109 DEBUG 12656 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-10-08 08:57:53.886  INFO 12656 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 08:57:53.887  INFO 12656 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 08:57:53.891  INFO 12656 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 09:32:25.949  INFO 15504 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 15504 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 09:32:25.950 DEBUG 15504 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 09:32:25.950  INFO 15504 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 09:32:26.303  INFO 15504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 09:32:26.333  INFO 15504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2025-10-08 09:32:26.605  INFO 15504 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 09:32:26.610  INFO 15504 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 09:32:26.610  INFO 15504 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 09:32:26.655  INFO 15504 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 09:32:26.655  INFO 15504 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 671 ms
2025-10-08 09:32:26.746  INFO 15504 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 09:32:26.772  INFO 15504 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 09:32:26.860  INFO 15504 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 09:32:26.912  INFO 15504 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 09:32:27.003  INFO 15504 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 09:32:27.011  INFO 15504 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 09:32:27.353  INFO 15504 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 09:32:27.358  INFO 15504 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 09:32:27.384  WARN 15504 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 09:32:27.604  INFO 15504 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 3c65e47e-ddb2-4f2f-84d3-0a3ec4a8f846

2025-10-08 09:32:27.650  INFO 15504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@aaa7000, org.springframework.security.web.context.SecurityContextPersistenceFilter@7fad28ac, org.springframework.security.web.header.HeaderWriterFilter@221cdd87, org.springframework.security.web.csrf.CsrfFilter@6baee63b, org.springframework.security.web.authentication.logout.LogoutFilter@6cb43fd3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@39159b14, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1bb51492, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@194eae3e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64fba3e6, org.springframework.security.web.session.SessionManagementFilter@7c79f2cf, org.springframework.security.web.access.ExceptionTranslationFilter@2eea4441, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@36857d32]
2025-10-08 09:32:27.706 DEBUG 15504 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 09:32:27.740 DEBUG 15504 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 09:32:27.748 DEBUG 15504 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 09:32:27.755 DEBUG 15504 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 09:32:27.759 DEBUG 15504 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 09:32:27.840  INFO 15504 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 09:32:27.845  INFO 15504 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.107 seconds (JVM running for 2.471)
2025-10-08 09:32:33.633  INFO 15504 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 09:32:33.633  INFO 15504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 09:32:33.633 DEBUG 15504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 09:32:33.633 DEBUG 15504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 09:32:33.633 DEBUG 15504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 09:32:33.633 DEBUG 15504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@42ac309
2025-10-08 09:32:33.634 DEBUG 15504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2d114d27
2025-10-08 09:32:33.634 DEBUG 15504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 09:32:33.634  INFO 15504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 09:32:33.651 DEBUG 15504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for POST "/access-denied", parameters={masked}
2025-10-08 09:32:33.654 DEBUG 15504 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="access-denied"]
2025-10-08 09:32:33.656  WARN 15504 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-10-08 09:32:33.657 DEBUG 15504 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 405
2025-10-08 09:32:33.675 DEBUG 15504 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 09:32:33.675 DEBUG 15504 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 09:32:33.679 DEBUG 15504 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 09:32:33.801 DEBUG 15504 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 09:32:40.567 DEBUG 15504 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/login?error", parameters={masked}
2025-10-08 09:32:40.567 DEBUG 15504 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 09:32:40.568 DEBUG 15504 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 09:32:40.571 DEBUG 15504 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 09:32:46.486 DEBUG 15504 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/login?error", parameters={masked}
2025-10-08 09:32:46.486 DEBUG 15504 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 09:32:46.487 DEBUG 15504 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 09:32:46.489 DEBUG 15504 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 09:34:42.707  WARN 15504 --- [http-nio-8080-exec-9] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2025-10-08 09:34:42.719 DEBUG 15504 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/login?error", parameters={masked}
2025-10-08 09:34:42.719 DEBUG 15504 --- [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 09:34:42.720 DEBUG 15504 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 09:34:42.722 DEBUG 15504 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 09:35:43.411 DEBUG 15504 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/login?error", parameters={masked}
2025-10-08 09:35:43.411 DEBUG 15504 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 09:35:43.412 DEBUG 15504 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 09:35:43.414 DEBUG 15504 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 09:39:03.842  INFO 15504 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 09:39:03.843  INFO 15504 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 09:39:03.848  INFO 15504 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 09:40:30.685  INFO 15716 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 15716 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 09:40:30.686 DEBUG 15716 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 09:40:30.687  INFO 15716 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 09:40:31.017  INFO 15716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 09:40:31.046  INFO 15716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 09:40:31.315  INFO 15716 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 09:40:31.320  INFO 15716 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 09:40:31.320  INFO 15716 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 09:40:31.361  INFO 15716 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 09:40:31.361  INFO 15716 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 645 ms
2025-10-08 09:40:31.449  INFO 15716 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 09:40:31.476  INFO 15716 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 09:40:31.564  INFO 15716 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 09:40:31.616  INFO 15716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 09:40:31.705  INFO 15716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 09:40:31.714  INFO 15716 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 09:40:32.056  INFO 15716 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 09:40:32.061  INFO 15716 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 09:40:32.086  WARN 15716 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 09:40:32.306  INFO 15716 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 266320b5-79de-49aa-8456-99aae4462728

2025-10-08 09:40:32.350  INFO 15716 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43b2e7db, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c79f2cf, org.springframework.security.web.header.HeaderWriterFilter@2eea4441, org.springframework.security.web.csrf.CsrfFilter@77988c45, org.springframework.security.web.authentication.logout.LogoutFilter@29174dfe, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@24520a51, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2761156e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5da1a97f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46d51d5e, org.springframework.security.web.session.SessionManagementFilter@221cdd87, org.springframework.security.web.access.ExceptionTranslationFilter@1c14d24d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14fe085b]
2025-10-08 09:40:32.408 DEBUG 15716 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 09:40:32.442 DEBUG 15716 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 09:40:32.450 DEBUG 15716 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 09:40:32.457 DEBUG 15716 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 09:40:32.461 DEBUG 15716 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 09:40:32.542  INFO 15716 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 09:40:32.547  INFO 15716 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.061 seconds (JVM running for 2.417)
2025-10-08 09:40:38.572  INFO 15716 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 09:40:38.572  INFO 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 09:40:38.572 DEBUG 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 09:40:38.572 DEBUG 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 09:40:38.572 DEBUG 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 09:40:38.573 DEBUG 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7607340f
2025-10-08 09:40:38.573 DEBUG 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2cb53bfc
2025-10-08 09:40:38.573 DEBUG 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 09:40:38.573  INFO 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 09:40:38.590 DEBUG 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/login?error", parameters={masked}
2025-10-08 09:40:38.594 DEBUG 15716 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 09:40:38.599 DEBUG 15716 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 09:40:38.727 DEBUG 15716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 09:40:42.004 DEBUG 15716 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login?error", parameters={masked}
2025-10-08 09:40:42.005 DEBUG 15716 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 09:40:42.005 DEBUG 15716 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 09:40:42.008 DEBUG 15716 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 09:40:49.214 DEBUG 15716 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-10-08 09:40:49.214 DEBUG 15716 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 09:40:49.214 DEBUG 15716 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 09:40:49.217 DEBUG 15716 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 09:40:57.236 DEBUG 15716 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/login?error", parameters={masked}
2025-10-08 09:40:57.237 DEBUG 15716 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 09:40:57.237 DEBUG 15716 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 09:40:57.239 DEBUG 15716 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 09:42:00.475  INFO 15716 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 09:42:00.477  INFO 15716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 09:42:00.481  INFO 15716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 09:52:36.454  INFO 2568 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 2568 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 09:52:36.455 DEBUG 2568 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 09:52:36.455  INFO 2568 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 09:52:36.787  INFO 2568 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 09:52:36.816  INFO 2568 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 09:52:37.085  INFO 2568 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 09:52:37.090  INFO 2568 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 09:52:37.090  INFO 2568 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 09:52:37.129  INFO 2568 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 09:52:37.129  INFO 2568 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 645 ms
2025-10-08 09:52:37.222  INFO 2568 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 09:52:37.249  INFO 2568 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 09:52:37.337  INFO 2568 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 09:52:37.396  INFO 2568 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 09:52:37.509  INFO 2568 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 09:52:37.517  INFO 2568 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 09:52:37.866  INFO 2568 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 09:52:37.871  INFO 2568 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 09:52:37.879  WARN 2568 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\configs\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inMemoryUserDetailsManager' defined in class path resource [org/springframework/boot/autoconfigure/security/servlet/UserDetailsServiceAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.provisioning.InMemoryUserDetailsManager]: Factory method 'inMemoryUserDetailsManager' threw exception; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'webSecurityConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?
2025-10-08 09:52:37.879  INFO 2568 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 09:52:37.880  INFO 2568 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 09:52:37.885  INFO 2568 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 09:52:37.886  INFO 2568 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-08 09:52:37.891  INFO 2568 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-08 09:52:37.899 ERROR 2568 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  webSecurityConfig defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\configs\WebSecurityConfig.class]
↑     ↓
|  inMemoryUserDetailsManager defined in class path resource [org/springframework/boot/autoconfigure/security/servlet/UserDetailsServiceAutoConfiguration.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-10-08 09:56:20.350  INFO 13564 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 13564 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 09:56:20.351 DEBUG 13564 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 09:56:20.351  INFO 13564 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 09:56:20.685  INFO 13564 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 09:56:20.716  INFO 13564 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2025-10-08 09:56:20.986  INFO 13564 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 09:56:20.991  INFO 13564 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 09:56:20.991  INFO 13564 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 09:56:21.032  INFO 13564 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 09:56:21.032  INFO 13564 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 651 ms
2025-10-08 09:56:21.121  INFO 13564 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 09:56:21.146  INFO 13564 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 09:56:21.235  INFO 13564 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 09:56:21.289  INFO 13564 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 09:56:21.376  INFO 13564 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 09:56:21.385  INFO 13564 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 09:56:21.728  INFO 13564 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 09:56:21.733  INFO 13564 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 09:56:21.910  WARN 13564 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\configs\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\service\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'webSecurityConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?
2025-10-08 09:56:21.910  INFO 13564 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 09:56:21.911  INFO 13564 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 09:56:21.916  INFO 13564 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 09:56:21.916  INFO 13564 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-08 09:56:21.921  INFO 13564 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-08 09:56:21.930 ERROR 13564 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  webSecurityConfig defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\configs\WebSecurityConfig.class]
↑     ↓
|  userServiceImpl defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\service\UserServiceImpl.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-10-08 10:01:44.270  INFO 9836 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 9836 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 10:01:44.272 DEBUG 9836 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 10:01:44.272  INFO 9836 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 10:01:44.607  INFO 9836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 10:01:44.637  INFO 9836 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 10:01:44.905  INFO 9836 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 10:01:44.910  INFO 9836 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 10:01:44.910  INFO 9836 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 10:01:44.952  INFO 9836 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 10:01:44.953  INFO 9836 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 652 ms
2025-10-08 10:01:45.043  INFO 9836 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 10:01:45.067  INFO 9836 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 10:01:45.156  INFO 9836 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 10:01:45.210  INFO 9836 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 10:01:45.300  INFO 9836 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 10:01:45.308  INFO 9836 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 10:01:45.649  INFO 9836 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 10:01:45.654  INFO 9836 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 10:01:45.857  WARN 9836 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 10:01:45.938  INFO 9836 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@147097ad, org.springframework.security.web.context.SecurityContextPersistenceFilter@18bc1064, org.springframework.security.web.header.HeaderWriterFilter@18d1d137, org.springframework.security.web.authentication.logout.LogoutFilter@1820f274, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4b360a82, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68f264bf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@234bfc8c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3539cf45, org.springframework.security.web.session.SessionManagementFilter@7c45191e, org.springframework.security.web.access.ExceptionTranslationFilter@738ed8f5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@29eaf100]
2025-10-08 10:01:45.994 DEBUG 9836 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 10:01:46.027 DEBUG 9836 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 10:01:46.035 DEBUG 9836 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 10:01:46.042 DEBUG 9836 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 10:01:46.047 DEBUG 9836 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 10:01:46.131  INFO 9836 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 10:01:46.136  INFO 9836 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.075 seconds (JVM running for 2.443)
2025-10-08 10:01:53.440  INFO 9836 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 10:01:53.440  INFO 9836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 10:01:53.440 DEBUG 9836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 10:01:53.440 DEBUG 9836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 10:01:53.440 DEBUG 9836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 10:01:53.441 DEBUG 9836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4e25282d
2025-10-08 10:01:53.441 DEBUG 9836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2352c21f
2025-10-08 10:01:53.441 DEBUG 9836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 10:01:53.441  INFO 9836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 10:01:53.453 DEBUG 9836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/login?error", parameters={masked}
2025-10-08 10:01:53.457 DEBUG 9836 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 10:01:53.462 DEBUG 9836 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 10:01:53.582 DEBUG 9836 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 10:01:59.426 DEBUG 9836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-10-08 10:01:59.427 DEBUG 9836 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 10:01:59.427 DEBUG 9836 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 10:01:59.430 DEBUG 9836 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 10:02:06.806 DEBUG 9836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 10:02:06.807 TRACE 9836 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 10:02:06.818 DEBUG 9836 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 10:02:06.818 TRACE 9836 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 10:02:06.925 DEBUG 9836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 10:02:06.926 DEBUG 9836 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 10:02:06.937 DEBUG 9836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 10:02:06.938 DEBUG 9836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 10:02:06.939 TRACE 9836 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 10:02:06.939 DEBUG 9836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 10:02:06.939 TRACE 9836 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 10:02:06.940 DEBUG 9836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 10:02:06.940 TRACE 9836 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 10:02:06.941 DEBUG 9836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 10:02:06.941 TRACE 9836 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 10:02:06.941 DEBUG 9836 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 10:02:06.942 TRACE 9836 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 10:02:06.945 DEBUG 9836 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 10:02:06.961 ERROR 9836 --- [http-nio-8080-exec-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-4] Exception processing template "admin": An error happened during template parsing (template: "class path resource [templates/admin.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "_csrf.parameterName" (template: "admin" - line 112, col 62)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	... 86 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "_csrf.parameterName" (template: "admin" - line 112, col 62)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring5-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	... 88 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'parameterName' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring5-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	... 113 common frames omitted

2025-10-08 10:02:06.962 DEBUG 9836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Error rendering view [org.thymeleaf.spring5.view.ThymeleafView@154d1f48]

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "_csrf.parameterName" (template: "admin" - line 112, col 62)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	... 86 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "_csrf.parameterName" (template: "admin" - line 112, col 62)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring5-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	... 88 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'parameterName' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring5-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	... 113 common frames omitted

2025-10-08 10:02:06.963 DEBUG 9836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin.html]")
2025-10-08 10:02:06.964 ERROR 9836 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'parameterName' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337) ~[spring-expression-5.3.14.jar:5.3.14]
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring5-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.14.RELEASE.jar:3.0.14.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-10-08 10:02:06.971 DEBUG 9836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-10-08 10:02:06.971 DEBUG 9836 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-10-08 10:02:06.976 DEBUG 9836 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-10-08 10:02:06.978 DEBUG 9836 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-10-08 10:32:01.702  INFO 9836 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 10:32:01.704  INFO 9836 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 10:32:01.706  INFO 9836 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 12:18:21.844  INFO 5304 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 5304 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 12:18:21.847 DEBUG 5304 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 12:18:21.847  INFO 5304 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 12:18:22.188  INFO 5304 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 12:18:22.219  INFO 5304 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2025-10-08 12:18:22.492  INFO 5304 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 12:18:22.497  INFO 5304 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 12:18:22.497  INFO 5304 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 12:18:22.539  INFO 5304 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 12:18:22.540  INFO 5304 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 662 ms
2025-10-08 12:18:22.632  INFO 5304 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 12:18:22.658  INFO 5304 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 12:18:22.748  INFO 5304 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 12:18:22.800  INFO 5304 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 12:18:22.893  INFO 5304 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 12:18:22.901  INFO 5304 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 12:18:23.252  INFO 5304 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 12:18:23.257  INFO 5304 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 12:18:23.469  WARN 5304 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 12:18:23.551  INFO 5304 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f25ed2b, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c45191e, org.springframework.security.web.header.HeaderWriterFilter@478c84aa, org.springframework.security.web.csrf.CsrfFilter@6a0ee80, org.springframework.security.web.authentication.logout.LogoutFilter@28515443, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@a6204e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18bc1064, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6baee63b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f69e2d8, org.springframework.security.web.session.SessionManagementFilter@18d1d137, org.springframework.security.web.access.ExceptionTranslationFilter@738ed8f5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32a074ed]
2025-10-08 12:18:23.607 DEBUG 5304 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 12:18:23.641 DEBUG 5304 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 12:18:23.649 DEBUG 5304 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 12:18:23.656 DEBUG 5304 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 12:18:23.660 DEBUG 5304 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 12:18:23.747  INFO 5304 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 12:18:23.752  INFO 5304 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.107 seconds (JVM running for 2.481)
2025-10-08 12:18:29.284  INFO 5304 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 12:18:29.284  INFO 5304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 12:18:29.284 DEBUG 5304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 12:18:29.284 DEBUG 5304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 12:18:29.284 DEBUG 5304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 12:18:29.285 DEBUG 5304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@44e0c3d
2025-10-08 12:18:29.285 DEBUG 5304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@23cb8fcb
2025-10-08 12:18:29.285 DEBUG 5304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 12:18:29.285  INFO 5304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 12:18:29.322 DEBUG 5304 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 12:18:29.325 DEBUG 5304 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 12:18:29.329 DEBUG 5304 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:18:29.448 DEBUG 5304 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:18:35.969 DEBUG 5304 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 12:18:35.971 TRACE 5304 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 12:18:35.987 DEBUG 5304 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:18:35.988 TRACE 5304 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:18:36.085 DEBUG 5304 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:18:36.086 DEBUG 5304 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:18:36.098 DEBUG 5304 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:18:36.099 DEBUG 5304 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:18:36.100 TRACE 5304 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 12:18:36.101 DEBUG 5304 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:18:36.101 TRACE 5304 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:18:36.102 DEBUG 5304 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:18:36.102 TRACE 5304 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:18:36.102 DEBUG 5304 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:18:36.103 TRACE 5304 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:18:36.103 DEBUG 5304 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:18:36.103 TRACE 5304 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:18:36.107 DEBUG 5304 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:18:36.131 DEBUG 5304 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:18:37.635 DEBUG 5304 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 12:18:37.635 DEBUG 5304 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 12:18:37.638 DEBUG 5304 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 12:18:37.643 DEBUG 5304 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:18:37.646 DEBUG 5304 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:19:01.422 DEBUG 5304 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 12:19:01.423 DEBUG 5304 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, List)
2025-10-08 12:19:01.433 DEBUG 5304 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 12:19:01.433 TRACE 5304 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [USER]
2025-10-08 12:19:01.436 DEBUG 5304 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Default role not found
2025-10-08 12:19:01.439 ERROR 5304 --- [http-nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Default role not found] with root cause

java.lang.RuntimeException: Default role not found
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl.lambda$setRolesForUser$2(UserServiceImpl.java:81) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl.setRolesForUser(UserServiceImpl.java:81) ~[classes/:na]
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl.save(UserServiceImpl.java:50) ~[classes/:na]
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl$$FastClassBySpringCGLIB$$157b6548.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl$$EnhancerBySpringCGLIB$$8ae26bdd.save(<generated>) ~[classes/:na]
	at ru.kata.spring.boot_security.demo.controller.AdminController.saveUser(AdminController.java:50) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-10-08 12:19:01.445 DEBUG 5304 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={masked}
2025-10-08 12:19:01.446 DEBUG 5304 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-10-08 12:19:01.452 DEBUG 5304 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-10-08 12:19:01.453 DEBUG 5304 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-10-08 12:22:32.041  INFO 5304 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 12:22:32.042  INFO 5304 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 12:22:32.051  INFO 5304 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 12:31:19.432  INFO 8348 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 8348 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 12:31:19.433 DEBUG 8348 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 12:31:19.433  INFO 8348 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 12:31:19.809  INFO 8348 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 12:31:19.843  INFO 8348 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2025-10-08 12:31:20.167  INFO 8348 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 12:31:20.173  INFO 8348 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 12:31:20.173  INFO 8348 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 12:31:20.219  INFO 8348 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 12:31:20.219  INFO 8348 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 751 ms
2025-10-08 12:31:20.348  INFO 8348 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 12:31:20.381  INFO 8348 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 12:31:20.483  INFO 8348 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 12:31:20.546  INFO 8348 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 12:31:20.648  INFO 8348 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 12:31:20.658  INFO 8348 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 12:31:21.059  INFO 8348 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 12:31:21.065  INFO 8348 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 12:31:21.311  WARN 8348 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 12:31:21.399  INFO 8348 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22c4354d, org.springframework.security.web.context.SecurityContextPersistenceFilter@62525dd3, org.springframework.security.web.header.HeaderWriterFilter@cce92b5, org.springframework.security.web.csrf.CsrfFilter@52d01430, org.springframework.security.web.authentication.logout.LogoutFilter@1a05ff8e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7304ca87, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7be6dabb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@656c0eae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2681185e, org.springframework.security.web.session.SessionManagementFilter@440d2d64, org.springframework.security.web.access.ExceptionTranslationFilter@6aa18912, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50b2ba2c]
2025-10-08 12:31:21.463 DEBUG 8348 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 12:31:21.503 DEBUG 8348 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 12:31:21.514 DEBUG 8348 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 12:31:21.524 DEBUG 8348 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 12:31:21.531 DEBUG 8348 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 12:31:21.643  INFO 8348 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 12:31:21.648  INFO 8348 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.444 seconds (JVM running for 3.221)
2025-10-08 12:31:32.824  INFO 8348 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 12:31:32.824  INFO 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 12:31:32.824 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 12:31:32.824 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 12:31:32.824 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 12:31:32.825 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@489b7559
2025-10-08 12:31:32.825 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7524125c
2025-10-08 12:31:32.825 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 12:31:32.825  INFO 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 12:31:32.842 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for POST "/access-denied", parameters={masked}
2025-10-08 12:31:32.846 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="access-denied"]
2025-10-08 12:31:32.848  WARN 8348 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-10-08 12:31:32.848 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 405
2025-10-08 12:31:32.871 DEBUG 8348 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 12:31:32.871 DEBUG 8348 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 12:31:32.875 DEBUG 8348 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:31:33.009 DEBUG 8348 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:31:41.785 DEBUG 8348 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 12:31:41.787 TRACE 8348 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 12:31:41.800 DEBUG 8348 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:31:41.800 TRACE 8348 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:31:41.893 DEBUG 8348 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:31:41.894 DEBUG 8348 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:31:41.905 DEBUG 8348 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:31:41.907 DEBUG 8348 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:31:41.907 TRACE 8348 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 12:31:41.908 DEBUG 8348 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:31:41.908 TRACE 8348 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:31:41.908 DEBUG 8348 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:31:41.909 TRACE 8348 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:31:41.909 DEBUG 8348 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:31:41.909 TRACE 8348 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:31:41.910 DEBUG 8348 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:31:41.910 TRACE 8348 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:31:41.914 DEBUG 8348 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:31:41.938 DEBUG 8348 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:32:38.357 DEBUG 8348 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=18", parameters={masked}
2025-10-08 12:32:38.357 DEBUG 8348 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 12:32:38.364 DEBUG 8348 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 12:32:38.365 TRACE 8348 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:32:38.369 DEBUG 8348 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 12:32:38.372 DEBUG 8348 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:32:38.387 DEBUG 8348 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:32:43.666 DEBUG 8348 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 12:32:43.666 DEBUG 8348 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 12:32:43.672 DEBUG 8348 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 12:32:43.673 TRACE 8348 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:32:43.682 DEBUG 8348 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 12:32:43.682 TRACE 8348 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [23]
2025-10-08 12:32:43.683 TRACE 8348 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Ivanov@rhg.ru]
2025-10-08 12:32:43.683 TRACE 8348 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Иван]
2025-10-08 12:32:43.683 TRACE 8348 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - []
2025-10-08 12:32:43.683 TRACE 8348 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 12:32:43.683 TRACE 8348 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [Иван]
2025-10-08 12:32:43.683 TRACE 8348 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [18]
2025-10-08 12:32:43.685 DEBUG 8348 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 12:32:43.685 TRACE 8348 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:32:43.690 DEBUG 8348 --- [http-nio-8080-exec-7] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 12:32:43.691 DEBUG 8348 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 12:32:43.701 DEBUG 8348 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:32:43.701 DEBUG 8348 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:32:43.702 DEBUG 8348 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:32:43.703 DEBUG 8348 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:43.704 TRACE 8348 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 12:32:43.704 DEBUG 8348 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:43.704 TRACE 8348 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:32:43.705 DEBUG 8348 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:43.705 TRACE 8348 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:32:43.705 DEBUG 8348 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:43.706 TRACE 8348 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:32:43.706 DEBUG 8348 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:43.706 TRACE 8348 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:32:43.707 DEBUG 8348 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:32:43.715 DEBUG 8348 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:32:50.861 DEBUG 8348 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/admin/deleteUser", parameters={masked}
2025-10-08 12:32:50.861 DEBUG 8348 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#deleteUser(Long)
2025-10-08 12:32:50.862 DEBUG 8348 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 12:32:50.863 TRACE 8348 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 12:32:50.867 DEBUG 8348 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 12:32:50.868 TRACE 8348 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 12:32:50.869 DEBUG 8348 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        id=?
2025-10-08 12:32:50.870 TRACE 8348 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [24]
2025-10-08 12:32:50.874 DEBUG 8348 --- [http-nio-8080-exec-9] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 12:32:50.874 DEBUG 8348 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 12:32:50.885 DEBUG 8348 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:32:50.885 DEBUG 8348 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:32:50.886 DEBUG 8348 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:32:50.887 DEBUG 8348 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:50.888 TRACE 8348 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:32:50.888 DEBUG 8348 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:50.888 TRACE 8348 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:32:50.889 DEBUG 8348 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:50.889 TRACE 8348 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:32:50.889 DEBUG 8348 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:50.889 TRACE 8348 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:32:50.891 DEBUG 8348 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:32:50.896 DEBUG 8348 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:32:55.215 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=18", parameters={masked}
2025-10-08 12:32:55.215 DEBUG 8348 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 12:32:55.217 DEBUG 8348 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 12:32:55.218 TRACE 8348 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:32:55.221 DEBUG 8348 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 12:32:55.222 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:32:55.225 DEBUG 8348 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:32:58.545 DEBUG 8348 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 12:32:58.545 DEBUG 8348 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 12:32:58.547 DEBUG 8348 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 12:32:58.547 TRACE 8348 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:32:58.549 DEBUG 8348 --- [http-nio-8080-exec-2] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 12:32:58.549 DEBUG 8348 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 12:32:58.559 DEBUG 8348 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:32:58.559 DEBUG 8348 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:32:58.560 DEBUG 8348 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:32:58.561 DEBUG 8348 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:58.561 TRACE 8348 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:32:58.562 DEBUG 8348 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:58.562 TRACE 8348 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:32:58.562 DEBUG 8348 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:58.563 TRACE 8348 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:32:58.563 DEBUG 8348 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:32:58.563 TRACE 8348 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:32:58.564 DEBUG 8348 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:32:58.573 DEBUG 8348 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:33:02.665 DEBUG 8348 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=18", parameters={masked}
2025-10-08 12:33:02.666 DEBUG 8348 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 12:33:02.668 DEBUG 8348 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 12:33:02.668 TRACE 8348 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:33:02.670 DEBUG 8348 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 12:33:02.671 DEBUG 8348 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:33:02.674 DEBUG 8348 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:33:11.929 DEBUG 8348 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 12:33:11.929 DEBUG 8348 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 12:33:11.931 DEBUG 8348 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 12:33:11.931 TRACE 8348 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:33:11.933 DEBUG 8348 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 12:33:11.934 TRACE 8348 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [22]
2025-10-08 12:33:11.935 TRACE 8348 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Ivanov@rhg.ru]
2025-10-08 12:33:11.935 TRACE 8348 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Иван]
2025-10-08 12:33:11.935 TRACE 8348 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - []
2025-10-08 12:33:11.935 TRACE 8348 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 12:33:11.935 TRACE 8348 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [Иван]
2025-10-08 12:33:11.935 TRACE 8348 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [18]
2025-10-08 12:33:11.938 DEBUG 8348 --- [http-nio-8080-exec-5] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 12:33:11.938 DEBUG 8348 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 12:33:11.948 DEBUG 8348 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:33:11.948 DEBUG 8348 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:33:11.949 DEBUG 8348 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:33:11.951 DEBUG 8348 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:33:11.951 TRACE 8348 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:33:11.952 DEBUG 8348 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:33:11.952 TRACE 8348 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:33:11.953 DEBUG 8348 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:33:11.953 TRACE 8348 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:33:11.953 DEBUG 8348 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:33:11.953 TRACE 8348 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:33:11.954 DEBUG 8348 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:33:11.958 DEBUG 8348 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:33:15.073 DEBUG 8348 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 12:33:15.073 DEBUG 8348 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 12:33:15.074 DEBUG 8348 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 12:33:15.076 DEBUG 8348 --- [http-nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:33:15.077 DEBUG 8348 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:33:34.855 DEBUG 8348 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 12:33:34.855 DEBUG 8348 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, List)
2025-10-08 12:33:34.858 DEBUG 8348 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 12:33:34.858 TRACE 8348 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [USER]
2025-10-08 12:33:34.861 DEBUG 8348 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Default role not found
2025-10-08 12:33:34.864 ERROR 8348 --- [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Default role not found] with root cause

java.lang.RuntimeException: Default role not found
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl.lambda$setRolesForUser$2(UserServiceImpl.java:81) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl.setRolesForUser(UserServiceImpl.java:81) ~[classes/:na]
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl.save(UserServiceImpl.java:50) ~[classes/:na]
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl$$FastClassBySpringCGLIB$$157b6548.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.14.jar:5.3.14]
	at ru.kata.spring.boot_security.demo.service.UserServiceImpl$$EnhancerBySpringCGLIB$$72ac9a0.save(<generated>) ~[classes/:na]
	at ru.kata.spring.boot_security.demo.controller.AdminController.saveUser(AdminController.java:50) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-10-08 12:33:34.870 DEBUG 8348 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={masked}
2025-10-08 12:33:34.871 DEBUG 8348 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-10-08 12:33:34.878 DEBUG 8348 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-10-08 12:33:34.878 DEBUG 8348 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-10-08 12:35:02.929  INFO 8348 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 12:35:02.930  INFO 8348 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 12:35:02.934  INFO 8348 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 12:39:50.916  INFO 2724 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 2724 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 12:39:50.918 DEBUG 2724 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 12:39:50.918  INFO 2724 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 12:39:51.245  INFO 2724 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 12:39:51.275  INFO 2724 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 12:39:51.550  INFO 2724 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 12:39:51.555  INFO 2724 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 12:39:51.555  INFO 2724 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 12:39:51.597  INFO 2724 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 12:39:51.597  INFO 2724 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 650 ms
2025-10-08 12:39:51.685  INFO 2724 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 12:39:51.711  INFO 2724 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 12:39:51.798  INFO 2724 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 12:39:51.850  INFO 2724 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 12:39:51.941  INFO 2724 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 12:39:51.949  INFO 2724 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 12:39:52.295  INFO 2724 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 12:39:52.299  INFO 2724 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 12:39:52.513  WARN 2724 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 12:39:52.594  INFO 2724 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f69e2d8, org.springframework.security.web.context.SecurityContextPersistenceFilter@ef220e4, org.springframework.security.web.header.HeaderWriterFilter@1d1deb11, org.springframework.security.web.csrf.CsrfFilter@71de1091, org.springframework.security.web.authentication.logout.LogoutFilter@2eea4441, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@747e8659, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cab07dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1002b06d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@147097ad, org.springframework.security.web.session.SessionManagementFilter@5f4f6f89, org.springframework.security.web.access.ExceptionTranslationFilter@1cfb7450, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@673605ef]
2025-10-08 12:39:52.651 DEBUG 2724 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 12:39:52.684 DEBUG 2724 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 12:39:52.692 DEBUG 2724 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 12:39:52.700 DEBUG 2724 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 12:39:52.704 DEBUG 2724 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 12:39:52.790  INFO 2724 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 12:39:52.795  INFO 2724 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.078 seconds (JVM running for 2.457)
2025-10-08 12:39:59.416  INFO 2724 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 12:39:59.417  INFO 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 12:39:59.417 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 12:39:59.417 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 12:39:59.417 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 12:39:59.417 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3b29d36c
2025-10-08 12:39:59.417 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@10d97b64
2025-10-08 12:39:59.417 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 12:39:59.418  INFO 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-10-08 12:39:59.438 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for POST "/access-denied", parameters={masked}
2025-10-08 12:39:59.442 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="access-denied"]
2025-10-08 12:39:59.444  WARN 2724 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-10-08 12:39:59.444 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 405
2025-10-08 12:39:59.471 DEBUG 2724 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 12:39:59.471 DEBUG 2724 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 12:39:59.475 DEBUG 2724 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:39:59.598 DEBUG 2724 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:40:05.803 DEBUG 2724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 12:40:05.805 TRACE 2724 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 12:40:05.815 DEBUG 2724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:05.816 TRACE 2724 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:40:05.916 DEBUG 2724 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/login?error", parameters={masked}
2025-10-08 12:40:05.916 DEBUG 2724 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 12:40:05.917 DEBUG 2724 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:40:05.921 DEBUG 2724 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:40:15.970 DEBUG 2724 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 12:40:15.971 TRACE 2724 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 12:40:15.972 DEBUG 2724 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:15.972 TRACE 2724 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:40:16.053 DEBUG 2724 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:40:16.055 DEBUG 2724 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:40:16.066 DEBUG 2724 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:40:16.067 DEBUG 2724 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:16.067 TRACE 2724 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:40:16.068 DEBUG 2724 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:16.068 TRACE 2724 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:40:16.068 DEBUG 2724 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:16.068 TRACE 2724 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:40:16.069 DEBUG 2724 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:16.069 TRACE 2724 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:40:16.073 DEBUG 2724 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:40:16.095 DEBUG 2724 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:40:18.207 DEBUG 2724 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 12:40:18.208 DEBUG 2724 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 12:40:18.210 DEBUG 2724 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 12:40:18.215 DEBUG 2724 --- [http-nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:40:18.218 DEBUG 2724 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:40:33.923 DEBUG 2724 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 12:40:33.923 DEBUG 2724 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, List)
2025-10-08 12:40:33.932 DEBUG 2724 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 12:40:33.932 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 12:40:34.007 DEBUG 2724 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        users
        (age, email, name, password, surname, username) 
    values
        (?, ?, ?, ?, ?, ?)
2025-10-08 12:40:34.008 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [21]
2025-10-08 12:40:34.008 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 12:40:34.008 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 12:40:34.008 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$bG5QnIutMcWjYUtrEqBamOlHA7C4EaroOJidjbpwvgQZxqgdqQdYG]
2025-10-08 12:40:34.008 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 12:40:34.008 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [anton]
2025-10-08 12:40:34.014 DEBUG 2724 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 12:40:34.014 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
2025-10-08 12:40:34.014 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 12:40:34.018 DEBUG 2724 --- [http-nio-8080-exec-8] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 12:40:34.019 DEBUG 2724 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 12:40:34.029 DEBUG 2724 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:40:34.029 DEBUG 2724 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:40:34.030 DEBUG 2724 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:40:34.031 DEBUG 2724 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:34.031 TRACE 2724 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
2025-10-08 12:40:34.032 DEBUG 2724 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:34.032 TRACE 2724 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:40:34.032 DEBUG 2724 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:34.032 TRACE 2724 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:40:34.033 DEBUG 2724 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:34.033 TRACE 2724 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:40:34.033 DEBUG 2724 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:34.033 TRACE 2724 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:40:34.035 DEBUG 2724 --- [http-nio-8080-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:40:34.043 DEBUG 2724 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:40:43.434 DEBUG 2724 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/user", parameters={}
2025-10-08 12:40:43.434 DEBUG 2724 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.UserController#userProfile(User, Model)
2025-10-08 12:40:43.436 DEBUG 2724 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:40:43.445 DEBUG 2724 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:40:44.791 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:40:44.791 DEBUG 2724 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:40:44.792 DEBUG 2724 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:40:44.793 DEBUG 2724 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:44.793 TRACE 2724 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
2025-10-08 12:40:44.794 DEBUG 2724 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:44.794 TRACE 2724 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:40:44.795 DEBUG 2724 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:44.795 TRACE 2724 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:40:44.795 DEBUG 2724 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:44.795 TRACE 2724 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:40:44.796 DEBUG 2724 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:44.796 TRACE 2724 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:40:44.797 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:40:44.803 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:40:45.696 DEBUG 2724 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 12:40:45.697 DEBUG 2724 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 12:40:45.697 DEBUG 2724 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:40:45.698 DEBUG 2724 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:40:53.084 DEBUG 2724 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 12:40:53.084 TRACE 2724 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [anton]
2025-10-08 12:40:53.085 DEBUG 2724 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:40:53.086 TRACE 2724 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
2025-10-08 12:40:53.166 DEBUG 2724 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/user", parameters={}
2025-10-08 12:40:53.166 DEBUG 2724 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.UserController#userProfile(User, Model)
2025-10-08 12:40:53.167 DEBUG 2724 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:40:53.169 DEBUG 2724 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:40:57.562 DEBUG 2724 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 12:40:57.563 DEBUG 2724 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 12:40:57.563 DEBUG 2724 --- [http-nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:40:57.565 DEBUG 2724 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:41:04.752 DEBUG 2724 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 12:41:04.753 TRACE 2724 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 12:41:04.755 DEBUG 2724 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:04.755 TRACE 2724 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:41:04.836 DEBUG 2724 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:41:04.837 DEBUG 2724 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:41:04.837 DEBUG 2724 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:41:04.838 DEBUG 2724 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:04.839 TRACE 2724 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
2025-10-08 12:41:04.839 DEBUG 2724 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:04.839 TRACE 2724 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:41:04.840 DEBUG 2724 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:04.840 TRACE 2724 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:41:04.840 DEBUG 2724 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:04.840 TRACE 2724 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:41:04.841 DEBUG 2724 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:04.841 TRACE 2724 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:41:04.842 DEBUG 2724 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:41:04.848 DEBUG 2724 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:41:10.883 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/admin/deleteUser", parameters={masked}
2025-10-08 12:41:10.883 DEBUG 2724 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#deleteUser(Long)
2025-10-08 12:41:10.886 DEBUG 2724 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 12:41:10.886 TRACE 2724 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:41:10.890 DEBUG 2724 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        id=?
2025-10-08 12:41:10.890 TRACE 2724 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [18]
2025-10-08 12:41:10.894 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 12:41:10.894 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 12:41:10.904 DEBUG 2724 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:41:10.904 DEBUG 2724 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:41:10.905 DEBUG 2724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:41:10.906 DEBUG 2724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:10.906 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
2025-10-08 12:41:10.907 DEBUG 2724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:10.907 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:41:10.907 DEBUG 2724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:10.907 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:41:10.908 DEBUG 2724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:10.908 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:41:10.909 DEBUG 2724 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:41:10.913 DEBUG 2724 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:41:17.761 DEBUG 2724 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 12:41:17.761 DEBUG 2724 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 12:41:17.762 DEBUG 2724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 12:41:17.764 DEBUG 2724 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:41:17.765 DEBUG 2724 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:41:50.352 DEBUG 2724 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 12:41:50.353 DEBUG 2724 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, List)
2025-10-08 12:41:50.354 DEBUG 2724 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 12:41:50.355 TRACE 2724 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 12:41:50.424 DEBUG 2724 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        users
        (age, email, name, password, surname, username) 
    values
        (?, ?, ?, ?, ?, ?)
2025-10-08 12:41:50.424 TRACE 2724 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [21]
2025-10-08 12:41:50.424 TRACE 2724 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 12:41:50.425 TRACE 2724 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 12:41:50.425 TRACE 2724 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$.SqJvI.hYyNMw/JtqHH8teOaKd7871A0XWzDMwI76syT3SuaexCXu]
2025-10-08 12:41:50.425 TRACE 2724 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Петров]
2025-10-08 12:41:50.425 TRACE 2724 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antonp]
2025-10-08 12:41:50.426 DEBUG 2724 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 12:41:50.426 TRACE 2724 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [28]
2025-10-08 12:41:50.426 TRACE 2724 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 12:41:50.429 DEBUG 2724 --- [http-nio-8080-exec-4] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 12:41:50.429 DEBUG 2724 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 12:41:50.439 DEBUG 2724 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:41:50.439 DEBUG 2724 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:41:50.440 DEBUG 2724 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:41:50.441 DEBUG 2724 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:50.441 TRACE 2724 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [28]
2025-10-08 12:41:50.442 DEBUG 2724 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:50.442 TRACE 2724 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
2025-10-08 12:41:50.442 DEBUG 2724 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:50.442 TRACE 2724 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:41:50.443 DEBUG 2724 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:50.443 TRACE 2724 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:41:50.443 DEBUG 2724 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:41:50.444 TRACE 2724 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:41:50.445 DEBUG 2724 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:41:50.449 DEBUG 2724 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:42:05.957 DEBUG 2724 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/admin/deleteUser", parameters={masked}
2025-10-08 12:42:05.957 DEBUG 2724 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#deleteUser(Long)
2025-10-08 12:42:05.958 DEBUG 2724 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 12:42:05.958 TRACE 2724 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [28]
2025-10-08 12:42:05.960 DEBUG 2724 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 12:42:05.960 TRACE 2724 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [28]
2025-10-08 12:42:05.960 DEBUG 2724 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        id=?
2025-10-08 12:42:05.960 TRACE 2724 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [28]
2025-10-08 12:42:05.963 DEBUG 2724 --- [http-nio-8080-exec-7] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 12:42:05.963 DEBUG 2724 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 12:42:05.973 DEBUG 2724 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:42:05.974 DEBUG 2724 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:42:05.974 DEBUG 2724 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:42:05.975 DEBUG 2724 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:42:05.975 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
2025-10-08 12:42:05.976 DEBUG 2724 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:42:05.976 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:42:05.977 DEBUG 2724 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:42:05.977 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:42:05.977 DEBUG 2724 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:42:05.977 TRACE 2724 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:42:05.978 DEBUG 2724 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:42:05.981 DEBUG 2724 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:42:08.795 DEBUG 2724 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/admin/deleteUser", parameters={masked}
2025-10-08 12:42:08.796 DEBUG 2724 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#deleteUser(Long)
2025-10-08 12:42:08.797 DEBUG 2724 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 12:42:08.797 TRACE 2724 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
2025-10-08 12:42:08.798 DEBUG 2724 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 12:42:08.798 TRACE 2724 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
2025-10-08 12:42:08.798 DEBUG 2724 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        id=?
2025-10-08 12:42:08.798 TRACE 2724 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [27]
2025-10-08 12:42:08.801 DEBUG 2724 --- [http-nio-8080-exec-9] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 12:42:08.802 DEBUG 2724 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 12:42:08.811 DEBUG 2724 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:42:08.811 DEBUG 2724 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:42:08.812 DEBUG 2724 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:42:08.813 DEBUG 2724 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:42:08.813 TRACE 2724 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:42:08.813 DEBUG 2724 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:42:08.813 TRACE 2724 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:42:08.814 DEBUG 2724 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:42:08.814 TRACE 2724 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:42:08.815 DEBUG 2724 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:42:08.820 DEBUG 2724 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:42:10.711 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 12:42:10.711 DEBUG 2724 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 12:42:10.712 DEBUG 2724 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 12:42:10.713 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:42:10.715 DEBUG 2724 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:42:27.915 DEBUG 2724 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 12:42:27.915 DEBUG 2724 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, List)
2025-10-08 12:42:27.917 DEBUG 2724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 12:42:27.917 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 12:42:27.987 DEBUG 2724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        users
        (age, email, name, password, surname, username) 
    values
        (?, ?, ?, ?, ?, ?)
2025-10-08 12:42:27.987 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [22]
2025-10-08 12:42:27.987 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 12:42:27.987 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 12:42:27.987 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$vl8A72YpmIh5peiCxaBSKOKGaCCHEyD1Zqa40WPR914jidhoqLA6G]
2025-10-08 12:42:27.987 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 12:42:27.987 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [anton]
2025-10-08 12:42:27.988 DEBUG 2724 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 12:42:27.988 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 12:42:27.989 TRACE 2724 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 12:42:27.991 DEBUG 2724 --- [http-nio-8080-exec-2] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 12:42:27.991 DEBUG 2724 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 12:42:28.001 DEBUG 2724 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:42:28.001 DEBUG 2724 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:42:28.002 DEBUG 2724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:42:28.003 DEBUG 2724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:42:28.003 TRACE 2724 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 12:42:28.003 DEBUG 2724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:42:28.003 TRACE 2724 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:42:28.004 DEBUG 2724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:42:28.004 TRACE 2724 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:42:28.004 DEBUG 2724 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:42:28.004 TRACE 2724 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:42:28.005 DEBUG 2724 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:42:28.009 DEBUG 2724 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:44:25.509  INFO 2724 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 12:44:25.510  INFO 2724 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 12:44:25.515  INFO 2724 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 12:55:43.117  INFO 10756 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 10756 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 12:55:43.118 DEBUG 10756 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 12:55:43.118  INFO 10756 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 12:55:43.456  INFO 10756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 12:55:43.485  INFO 10756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 12:55:43.754  INFO 10756 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 12:55:43.759  INFO 10756 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 12:55:43.759  INFO 10756 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 12:55:43.802  INFO 10756 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 12:55:43.802  INFO 10756 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 654 ms
2025-10-08 12:55:43.892  INFO 10756 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 12:55:43.916  INFO 10756 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 12:55:44.004  INFO 10756 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 12:55:44.059  INFO 10756 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 12:55:44.151  INFO 10756 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 12:55:44.159  INFO 10756 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 12:55:44.501  INFO 10756 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 12:55:44.506  INFO 10756 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 12:55:44.721  WARN 10756 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 12:55:44.803  INFO 10756 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@525b9df4, org.springframework.security.web.context.SecurityContextPersistenceFilter@39c1e7b7, org.springframework.security.web.header.HeaderWriterFilter@51e1e058, org.springframework.security.web.csrf.CsrfFilter@18d1d137, org.springframework.security.web.authentication.logout.LogoutFilter@57f89680, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7d563c13, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28515443, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c79f2cf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52dd1be2, org.springframework.security.web.session.SessionManagementFilter@25d23478, org.springframework.security.web.access.ExceptionTranslationFilter@34065642, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14e83c9d]
2025-10-08 12:55:44.865 DEBUG 10756 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 12:55:44.899 DEBUG 10756 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 12:55:44.907 DEBUG 10756 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 12:55:44.914 DEBUG 10756 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 12:55:44.918 DEBUG 10756 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 12:55:45.007  INFO 10756 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 12:55:45.011  INFO 10756 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.108 seconds (JVM running for 2.508)
2025-10-08 12:55:49.705  INFO 10756 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 12:55:49.705  INFO 10756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 12:55:49.705 DEBUG 10756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 12:55:49.705 DEBUG 10756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 12:55:49.705 DEBUG 10756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 12:55:49.705 DEBUG 10756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@289cf7db
2025-10-08 12:55:49.706 DEBUG 10756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7167d81b
2025-10-08 12:55:49.706 DEBUG 10756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 12:55:49.706  INFO 10756 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 12:55:49.740 DEBUG 10756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 12:55:49.743 DEBUG 10756 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 12:55:49.748 DEBUG 10756 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:55:49.870 DEBUG 10756 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:55:56.695 DEBUG 10756 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 12:55:56.696 TRACE 10756 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 12:55:56.714 DEBUG 10756 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:55:56.715 TRACE 10756 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:55:56.813 DEBUG 10756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:55:56.814 DEBUG 10756 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:55:56.824 DEBUG 10756 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:55:56.826 DEBUG 10756 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:55:56.826 TRACE 10756 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 12:55:56.827 DEBUG 10756 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:55:56.827 TRACE 10756 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:55:56.828 DEBUG 10756 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:55:56.828 TRACE 10756 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:55:56.829 DEBUG 10756 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:55:56.829 TRACE 10756 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:55:56.833 DEBUG 10756 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:55:56.855 DEBUG 10756 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:56:01.159 DEBUG 10756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 12:56:01.159 DEBUG 10756 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 12:56:01.163 DEBUG 10756 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 12:56:01.168 DEBUG 10756 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:56:01.171 DEBUG 10756 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 12:56:19.258 DEBUG 10756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 12:56:19.259 DEBUG 10756 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, List)
2025-10-08 12:56:19.271 DEBUG 10756 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 12:56:19.271 TRACE 10756 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 12:56:19.346 DEBUG 10756 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        users
        (age, email, name, password, surname, username) 
    values
        (?, ?, ?, ?, ?, ?)
2025-10-08 12:56:19.346 TRACE 10756 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [21]
2025-10-08 12:56:19.346 TRACE 10756 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 12:56:19.346 TRACE 10756 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 12:56:19.346 TRACE 10756 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$iAbGdOlgWMOI32ckJO9N8eCbxtU5d9iJdOKhQ/NNNiMfH9WsBNOlu]
2025-10-08 12:56:19.346 TRACE 10756 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Сидоров]
2025-10-08 12:56:19.347 TRACE 10756 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [anton]
2025-10-08 12:56:19.352 DEBUG 10756 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 12:56:19.352 TRACE 10756 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [30]
2025-10-08 12:56:19.352 TRACE 10756 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 12:56:19.357 DEBUG 10756 --- [http-nio-8080-exec-6] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 12:56:19.357 DEBUG 10756 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 12:56:19.367 DEBUG 10756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 12:56:19.368 DEBUG 10756 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 12:56:19.369 DEBUG 10756 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 12:56:19.370 DEBUG 10756 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:56:19.370 TRACE 10756 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [30]
2025-10-08 12:56:19.371 DEBUG 10756 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:56:19.371 TRACE 10756 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 12:56:19.371 DEBUG 10756 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:56:19.371 TRACE 10756 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 12:56:19.372 DEBUG 10756 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:56:19.372 TRACE 10756 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 12:56:19.372 DEBUG 10756 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 12:56:19.372 TRACE 10756 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 12:56:19.374 DEBUG 10756 --- [http-nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 12:56:19.382 DEBUG 10756 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 13:09:02.133  INFO 10756 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 13:09:02.135  INFO 10756 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 13:09:02.140  INFO 10756 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 13:31:58.889  INFO 5156 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 5156 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 13:31:58.890 DEBUG 5156 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 13:31:58.890  INFO 5156 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 13:31:59.232  INFO 5156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 13:31:59.261  INFO 5156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 13:31:59.542  INFO 5156 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 13:31:59.547  INFO 5156 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 13:31:59.547  INFO 5156 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 13:31:59.589  INFO 5156 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 13:31:59.589  INFO 5156 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 669 ms
2025-10-08 13:31:59.679  INFO 5156 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 13:31:59.704  INFO 5156 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 13:31:59.792  INFO 5156 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 13:31:59.846  INFO 5156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 13:31:59.941  INFO 5156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 13:31:59.949  INFO 5156 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 13:32:00.295  INFO 5156 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 13:32:00.300  INFO 5156 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 13:32:00.508  WARN 5156 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 13:32:00.591  INFO 5156 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c24c40a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7db2b614, org.springframework.security.web.header.HeaderWriterFilter@629de8, org.springframework.security.web.csrf.CsrfFilter@50caeb4b, org.springframework.security.web.authentication.logout.LogoutFilter@1e466d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2245ccaa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c1a95a2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@544e6b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6636448b, org.springframework.security.web.session.SessionManagementFilter@1b6683c4, org.springframework.security.web.access.ExceptionTranslationFilter@41463c56, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@319d106c]
2025-10-08 13:32:00.648 DEBUG 5156 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 13:32:00.682 DEBUG 5156 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 13:32:00.690 DEBUG 5156 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 13:32:00.697 DEBUG 5156 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 13:32:00.701 DEBUG 5156 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 13:32:00.786  INFO 5156 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 13:32:00.791  INFO 5156 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.109 seconds (JVM running for 2.481)
2025-10-08 13:32:05.478  INFO 5156 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 13:32:05.479  INFO 5156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 13:32:05.479 DEBUG 5156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 13:32:05.479 DEBUG 5156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 13:32:05.479 DEBUG 5156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 13:32:05.479 DEBUG 5156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@779ef5cb
2025-10-08 13:32:05.479 DEBUG 5156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@70273633
2025-10-08 13:32:05.479 DEBUG 5156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 13:32:05.479  INFO 5156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-10-08 13:32:05.519 DEBUG 5156 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 13:32:05.521 DEBUG 5156 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 13:32:05.526 DEBUG 5156 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 13:32:05.647 DEBUG 5156 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 13:32:13.641 DEBUG 5156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 13:32:13.642 TRACE 5156 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 13:32:13.654 DEBUG 5156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:32:13.654 TRACE 5156 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 13:32:13.756 DEBUG 5156 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 13:32:13.757 DEBUG 5156 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 13:32:13.769 DEBUG 5156 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 13:32:13.770 DEBUG 5156 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:32:13.770 TRACE 5156 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [30]
2025-10-08 13:32:13.771 DEBUG 5156 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:32:13.771 TRACE 5156 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 13:32:13.772 DEBUG 5156 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:32:13.772 TRACE 5156 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 13:32:13.773 DEBUG 5156 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:32:13.773 TRACE 5156 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 13:32:13.773 DEBUG 5156 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:32:13.773 TRACE 5156 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 13:32:13.778 DEBUG 5156 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 13:32:13.802 DEBUG 5156 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 13:32:20.124 DEBUG 5156 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 13:32:20.124 DEBUG 5156 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 13:32:20.127 DEBUG 5156 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 13:32:20.132 DEBUG 5156 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 13:32:20.137 DEBUG 5156 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 13:32:43.535 DEBUG 5156 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 13:32:43.536 DEBUG 5156 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-10-08 13:32:43.540 DEBUG 5156 --- [http-nio-8080-exec-6] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-10-08 13:32:43.540 DEBUG 5156 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-10-08 13:32:43.546 DEBUG 5156 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={masked}
2025-10-08 13:32:43.547 DEBUG 5156 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-10-08 13:32:43.553 DEBUG 5156 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-10-08 13:32:43.554 DEBUG 5156 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-10-08 13:34:19.179  INFO 5156 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 13:34:19.180  INFO 5156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 13:34:19.185  INFO 5156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 13:34:30.250  INFO 5892 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 5892 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 13:34:30.251 DEBUG 5892 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 13:34:30.252  INFO 5892 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 13:34:30.634  INFO 5892 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 13:34:30.665  INFO 5892 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2025-10-08 13:34:30.948  INFO 5892 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 13:34:30.954  INFO 5892 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 13:34:30.955  INFO 5892 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 13:34:31.000  INFO 5892 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 13:34:31.000  INFO 5892 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 717 ms
2025-10-08 13:34:31.094  INFO 5892 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 13:34:31.120  INFO 5892 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 13:34:31.210  INFO 5892 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 13:34:31.265  INFO 5892 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 13:34:31.359  INFO 5892 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 13:34:31.368  INFO 5892 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 13:34:31.723  INFO 5892 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 13:34:31.728  INFO 5892 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 13:34:31.944  WARN 5892 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 13:34:32.023  INFO 5892 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22b10124, org.springframework.security.web.context.SecurityContextPersistenceFilter@6b32b678, org.springframework.security.web.header.HeaderWriterFilter@143fe09c, org.springframework.security.web.csrf.CsrfFilter@7169d668, org.springframework.security.web.authentication.logout.LogoutFilter@7e43b342, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7fdff56b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69abeb14, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72b53f27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f36e806, org.springframework.security.web.session.SessionManagementFilter@161c9468, org.springframework.security.web.access.ExceptionTranslationFilter@5020e5ab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6aa792]
2025-10-08 13:34:32.084 DEBUG 5892 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 13:34:32.121 DEBUG 5892 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 13:34:32.129 DEBUG 5892 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 13:34:32.136 DEBUG 5892 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 13:34:32.140 DEBUG 5892 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 13:34:32.231  INFO 5892 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 13:34:32.236  INFO 5892 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.192 seconds (JVM running for 2.554)
2025-10-08 13:34:36.398  INFO 5892 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 13:34:36.398  INFO 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 13:34:36.398 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 13:34:36.398 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 13:34:36.398 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 13:34:36.399 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5d9d8ecf
2025-10-08 13:34:36.399 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4db4431b
2025-10-08 13:34:36.399 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 13:34:36.399  INFO 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 13:34:36.416 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for POST "/access-denied", parameters={masked}
2025-10-08 13:34:36.419 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="access-denied"]
2025-10-08 13:34:36.421  WARN 5892 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-10-08 13:34:36.421 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 405
2025-10-08 13:34:36.438 DEBUG 5892 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 13:34:36.438 DEBUG 5892 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 13:34:36.443 DEBUG 5892 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 13:34:36.565 DEBUG 5892 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 13:34:42.388 DEBUG 5892 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 13:34:42.390 TRACE 5892 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 13:34:42.402 DEBUG 5892 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:34:42.402 TRACE 5892 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 13:34:42.506 DEBUG 5892 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 13:34:42.507 DEBUG 5892 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 13:34:42.519 DEBUG 5892 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 13:34:42.520 DEBUG 5892 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:34:42.520 TRACE 5892 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [30]
2025-10-08 13:34:42.521 DEBUG 5892 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:34:42.521 TRACE 5892 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 13:34:42.522 DEBUG 5892 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:34:42.522 TRACE 5892 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 13:34:42.523 DEBUG 5892 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:34:42.523 TRACE 5892 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 13:34:42.524 DEBUG 5892 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:34:42.524 TRACE 5892 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 13:34:42.529 DEBUG 5892 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 13:34:42.552 DEBUG 5892 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 13:34:43.900 DEBUG 5892 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 13:34:43.900 DEBUG 5892 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 13:34:43.903 DEBUG 5892 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 13:34:43.908 DEBUG 5892 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 13:34:43.911 DEBUG 5892 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 13:35:05.743 DEBUG 5892 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 13:35:05.743 DEBUG 5892 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, String)
2025-10-08 13:35:05.754 DEBUG 5892 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 13:35:05.754 TRACE 5892 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2025-10-08 13:35:05.756 DEBUG 5892 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 13:35:05.756 TRACE 5892 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 13:35:05.831 DEBUG 5892 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        users
        (age, email, name, password, surname, username) 
    values
        (?, ?, ?, ?, ?, ?)
2025-10-08 13:35:05.831 TRACE 5892 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [21]
2025-10-08 13:35:05.832 TRACE 5892 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 13:35:05.832 TRACE 5892 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 13:35:05.832 TRACE 5892 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$SgEn8WMSjRAWoEHDuBGBceT2cQ5Z/GozW12n7i0nh8htn3psUJbUm]
2025-10-08 13:35:05.832 TRACE 5892 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Петров]
2025-10-08 13:35:05.832 TRACE 5892 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antonp]
2025-10-08 13:35:05.836 DEBUG 5892 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 13:35:05.836 TRACE 5892 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [31]
2025-10-08 13:35:05.837 TRACE 5892 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 13:35:05.842 DEBUG 5892 --- [http-nio-8080-exec-6] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 13:35:05.842 DEBUG 5892 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 13:35:05.851 DEBUG 5892 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 13:35:05.852 DEBUG 5892 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 13:35:05.853 DEBUG 5892 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 13:35:05.854 DEBUG 5892 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:35:05.854 TRACE 5892 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [31]
2025-10-08 13:35:05.855 DEBUG 5892 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:35:05.855 TRACE 5892 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [30]
2025-10-08 13:35:05.855 DEBUG 5892 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:35:05.855 TRACE 5892 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 13:35:05.856 DEBUG 5892 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:35:05.856 TRACE 5892 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 13:35:05.856 DEBUG 5892 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:35:05.857 TRACE 5892 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 13:35:05.857 DEBUG 5892 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:35:05.857 TRACE 5892 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 13:35:05.858 DEBUG 5892 --- [http-nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 13:35:05.869 DEBUG 5892 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 13:35:12.686 DEBUG 5892 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 13:35:12.686 DEBUG 5892 --- [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 13:35:12.687 DEBUG 5892 --- [http-nio-8080-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 13:35:12.689 DEBUG 5892 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 13:35:20.676 DEBUG 5892 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 13:35:20.677 TRACE 5892 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [antonp]
2025-10-08 13:35:20.678 DEBUG 5892 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 13:35:20.678 TRACE 5892 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [31]
2025-10-08 13:35:20.758 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/user", parameters={}
2025-10-08 13:35:20.758 DEBUG 5892 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.UserController#userProfile(User, Model)
2025-10-08 13:35:20.760 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 13:35:20.769 DEBUG 5892 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 13:35:25.718 DEBUG 5892 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 13:35:25.719 DEBUG 5892 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 13:35:25.719 DEBUG 5892 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 13:35:25.720 DEBUG 5892 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 13:35:29.161  INFO 5892 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 13:35:29.162  INFO 5892 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 13:35:29.167  INFO 5892 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 18:10:55.685  INFO 17580 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 17580 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 18:10:55.686 DEBUG 17580 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 18:10:55.686  INFO 17580 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 18:10:56.028  INFO 17580 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 18:10:56.058  INFO 17580 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2025-10-08 18:10:56.344  INFO 17580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 18:10:56.351  INFO 17580 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 18:10:56.351  INFO 17580 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 18:10:56.398  INFO 17580 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 18:10:56.398  INFO 17580 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 678 ms
2025-10-08 18:10:56.495  INFO 17580 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 18:10:56.530  INFO 17580 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 18:10:56.644  INFO 17580 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 18:10:56.705  INFO 17580 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 18:10:56.801  INFO 17580 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 18:10:56.812  INFO 17580 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 18:10:57.209  INFO 17580 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 18:10:57.214  INFO 17580 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 18:10:57.430  WARN 17580 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 18:10:57.508  INFO 17580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64908ab9, org.springframework.security.web.context.SecurityContextPersistenceFilter@6baee63b, org.springframework.security.web.header.HeaderWriterFilter@3cab07dd, org.springframework.security.web.csrf.CsrfFilter@71b7e9c8, org.springframework.security.web.authentication.logout.LogoutFilter@2761156e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3539cf45, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@234bfc8c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@276aa33f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b06dc57, org.springframework.security.web.session.SessionManagementFilter@77988c45, org.springframework.security.web.access.ExceptionTranslationFilter@ef220e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b360a82]
2025-10-08 18:10:57.569 DEBUG 17580 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 18:10:57.604 DEBUG 17580 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 18:10:57.613 DEBUG 17580 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 18:10:57.621 DEBUG 17580 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 18:10:57.625 DEBUG 17580 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 18:10:57.729  INFO 17580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 18:10:57.734  INFO 17580 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.26 seconds (JVM running for 2.677)
2025-10-08 18:11:04.699  INFO 17580 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 18:11:04.699  INFO 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 18:11:04.699 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 18:11:04.699 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 18:11:04.699 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 18:11:04.699 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@36c45149
2025-10-08 18:11:04.700 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@703a2bc9
2025-10-08 18:11:04.700 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 18:11:04.700  INFO 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 18:11:04.712 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-10-08 18:11:04.716 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 18:11:04.722 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 18:11:04.851 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 18:11:05.196 DEBUG 17580 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 18:11:05.197 DEBUG 17580 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 18:11:05.197 DEBUG 17580 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-10-08 18:11:05.200 DEBUG 17580 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 18:11:11.299 DEBUG 17580 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 18:11:11.300 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 18:11:11.319 DEBUG 17580 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:11.320 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 18:11:11.420 DEBUG 17580 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 18:11:11.421 DEBUG 17580 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 18:11:11.431 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 18:11:11.433 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:11.433 TRACE 17580 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [31]
2025-10-08 18:11:11.434 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:11.434 TRACE 17580 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [30]
2025-10-08 18:11:11.434 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:11.434 TRACE 17580 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 18:11:11.435 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:11.435 TRACE 17580 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 18:11:11.436 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:11.436 TRACE 17580 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 18:11:11.436 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:11.436 TRACE 17580 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 18:11:11.440 DEBUG 17580 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 18:11:11.465 DEBUG 17580 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 18:11:11.557 DEBUG 17580 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/favicon.ico", parameters={}
2025-10-08 18:11:11.559 DEBUG 17580 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-10-08 18:11:11.561 DEBUG 17580 --- [http-nio-8080-exec-6] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-10-08 18:11:11.561 DEBUG 17580 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-10-08 18:11:11.568 DEBUG 17580 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-10-08 18:11:11.569 DEBUG 17580 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-10-08 18:11:11.578 DEBUG 17580 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-10-08 18:11:11.579 DEBUG 17580 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 08 18:11:11 MSK 2025, status=404, error=Not Found, message=No message available,  (truncated)...]
2025-10-08 18:11:11.603 DEBUG 17580 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-10-08 18:11:16.270 DEBUG 17580 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/admin/deleteUser", parameters={masked}
2025-10-08 18:11:16.270 DEBUG 17580 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#deleteUser(Long)
2025-10-08 18:11:16.278 DEBUG 17580 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 18:11:16.278 TRACE 17580 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [31]
2025-10-08 18:11:16.287 DEBUG 17580 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 18:11:16.288 TRACE 17580 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [31]
2025-10-08 18:11:16.291 DEBUG 17580 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        id=?
2025-10-08 18:11:16.291 TRACE 17580 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [31]
2025-10-08 18:11:16.298 DEBUG 17580 --- [http-nio-8080-exec-7] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 18:11:16.299 DEBUG 17580 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 18:11:16.309 DEBUG 17580 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 18:11:16.309 DEBUG 17580 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 18:11:16.311 DEBUG 17580 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 18:11:16.312 DEBUG 17580 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:16.312 TRACE 17580 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [30]
2025-10-08 18:11:16.313 DEBUG 17580 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:16.313 TRACE 17580 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 18:11:16.314 DEBUG 17580 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:16.314 TRACE 17580 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 18:11:16.315 DEBUG 17580 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:16.315 TRACE 17580 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 18:11:16.316 DEBUG 17580 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:16.316 TRACE 17580 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 18:11:16.317 DEBUG 17580 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 18:11:16.327 DEBUG 17580 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 18:11:19.027 DEBUG 17580 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/admin/deleteUser", parameters={masked}
2025-10-08 18:11:19.027 DEBUG 17580 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#deleteUser(Long)
2025-10-08 18:11:19.029 DEBUG 17580 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 18:11:19.029 TRACE 17580 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [30]
2025-10-08 18:11:19.030 DEBUG 17580 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 18:11:19.031 TRACE 17580 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [30]
2025-10-08 18:11:19.031 DEBUG 17580 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        id=?
2025-10-08 18:11:19.031 TRACE 17580 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [30]
2025-10-08 18:11:19.035 DEBUG 17580 --- [http-nio-8080-exec-9] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 18:11:19.035 DEBUG 17580 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 18:11:19.045 DEBUG 17580 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 18:11:19.045 DEBUG 17580 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 18:11:19.046 DEBUG 17580 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 18:11:19.047 DEBUG 17580 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:19.047 TRACE 17580 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 18:11:19.048 DEBUG 17580 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:19.048 TRACE 17580 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 18:11:19.048 DEBUG 17580 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:19.048 TRACE 17580 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 18:11:19.049 DEBUG 17580 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:19.049 TRACE 17580 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 18:11:19.050 DEBUG 17580 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 18:11:19.056 DEBUG 17580 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 18:11:23.966 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/admin/deleteUser", parameters={masked}
2025-10-08 18:11:23.966 DEBUG 17580 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#deleteUser(Long)
2025-10-08 18:11:23.967 DEBUG 17580 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 18:11:23.968 TRACE 17580 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 18:11:23.969 DEBUG 17580 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 18:11:23.969 TRACE 17580 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 18:11:23.970 DEBUG 17580 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        id=?
2025-10-08 18:11:23.970 TRACE 17580 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [29]
2025-10-08 18:11:23.973 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 18:11:23.974 DEBUG 17580 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 18:11:23.983 DEBUG 17580 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 18:11:23.984 DEBUG 17580 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 18:11:23.984 DEBUG 17580 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 18:11:23.985 DEBUG 17580 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:23.985 TRACE 17580 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 18:11:23.986 DEBUG 17580 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:23.986 TRACE 17580 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 18:11:23.987 DEBUG 17580 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:23.987 TRACE 17580 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 18:11:23.988 DEBUG 17580 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 18:11:23.994 DEBUG 17580 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 18:11:24.811 DEBUG 17580 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 18:11:24.812 DEBUG 17580 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 18:11:24.815 DEBUG 17580 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 18:11:24.818 DEBUG 17580 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 18:11:24.821 DEBUG 17580 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 18:11:48.785 DEBUG 17580 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 18:11:48.786 DEBUG 17580 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, String)
2025-10-08 18:11:48.792 DEBUG 17580 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 18:11:48.793 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2025-10-08 18:11:48.794 DEBUG 17580 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 18:11:48.794 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 18:11:48.867 DEBUG 17580 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        users
        (age, email, name, password, surname, username) 
    values
        (?, ?, ?, ?, ?, ?)
2025-10-08 18:11:48.868 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]
2025-10-08 18:11:48.868 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 18:11:48.868 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 18:11:48.868 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$1gLRcyG8MVIak52BFS95buVnGDczw9CVrq/e1m5uDkz.VVsEm9wXm]
2025-10-08 18:11:48.868 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 18:11:48.868 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antoni]
2025-10-08 18:11:48.872 DEBUG 17580 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 18:11:48.873 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [32]
2025-10-08 18:11:48.873 TRACE 17580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 18:11:48.876 DEBUG 17580 --- [http-nio-8080-exec-4] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 18:11:48.877 DEBUG 17580 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 18:11:48.885 DEBUG 17580 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 18:11:48.886 DEBUG 17580 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 18:11:48.886 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 18:11:48.887 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:48.888 TRACE 17580 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [32]
2025-10-08 18:11:48.890 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:48.890 TRACE 17580 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 18:11:48.891 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:48.891 TRACE 17580 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 18:11:48.891 DEBUG 17580 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:11:48.891 TRACE 17580 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 18:11:48.892 DEBUG 17580 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 18:11:48.897 DEBUG 17580 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 18:12:01.683  INFO 17580 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 18:12:01.684  INFO 17580 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 18:12:01.689  INFO 17580 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 18:33:32.250  INFO 15424 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 15424 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 18:33:32.252 DEBUG 15424 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 18:33:32.252  INFO 15424 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 18:33:32.601  INFO 15424 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 18:33:32.631  INFO 15424 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2025-10-08 18:33:32.910  INFO 15424 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 18:33:32.916  INFO 15424 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 18:33:32.916  INFO 15424 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 18:33:32.959  INFO 15424 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 18:33:32.959  INFO 15424 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 675 ms
2025-10-08 18:33:33.049  INFO 15424 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 18:33:33.074  INFO 15424 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 18:33:33.163  INFO 15424 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 18:33:33.216  INFO 15424 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 18:33:33.306  INFO 15424 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 18:33:33.314  INFO 15424 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 18:33:33.659  INFO 15424 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 18:33:33.664  INFO 15424 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 18:33:33.880  WARN 15424 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 18:33:33.962  INFO 15424 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@642614b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b430541, org.springframework.security.web.header.HeaderWriterFilter@72b53f27, org.springframework.security.web.csrf.CsrfFilter@4af44f2a, org.springframework.security.web.authentication.logout.LogoutFilter@770cbe5d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@57fc6759, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a07ae2f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66d44581, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@345540f9, org.springframework.security.web.session.SessionManagementFilter@632b96b8, org.springframework.security.web.access.ExceptionTranslationFilter@2c1a95a2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4088702d]
2025-10-08 18:33:34.021 DEBUG 15424 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 18:33:34.056 DEBUG 15424 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 18:33:34.064 DEBUG 15424 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 18:33:34.071 DEBUG 15424 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 18:33:34.076 DEBUG 15424 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 18:33:34.164  INFO 15424 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 18:33:34.169  INFO 15424 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.126 seconds (JVM running for 2.539)
2025-10-08 18:33:51.275  INFO 15424 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 18:33:51.275  INFO 15424 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 18:33:51.275 DEBUG 15424 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 18:33:51.275 DEBUG 15424 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 18:33:51.275 DEBUG 15424 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 18:33:51.276 DEBUG 15424 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@608c2042
2025-10-08 18:33:51.276 DEBUG 15424 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1add90e0
2025-10-08 18:33:51.276 DEBUG 15424 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 18:33:51.276  INFO 15424 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 18:33:51.310 DEBUG 15424 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 18:33:51.313 DEBUG 15424 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 18:33:51.318 DEBUG 15424 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 18:33:51.443 DEBUG 15424 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 18:34:17.558 DEBUG 15424 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 18:34:17.559 TRACE 15424 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 18:34:17.571 DEBUG 15424 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:34:17.572 TRACE 15424 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 18:34:17.676 DEBUG 15424 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 18:34:17.677 DEBUG 15424 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 18:34:17.688 DEBUG 15424 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 18:34:17.690 DEBUG 15424 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:34:17.690 TRACE 15424 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [32]
2025-10-08 18:34:17.691 DEBUG 15424 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:34:17.691 TRACE 15424 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 18:34:17.691 DEBUG 15424 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:34:17.691 TRACE 15424 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 18:34:17.692 DEBUG 15424 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 18:34:17.692 TRACE 15424 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 18:34:17.696 DEBUG 15424 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 18:34:17.719 DEBUG 15424 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 18:34:19.253 DEBUG 15424 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 18:34:19.254 DEBUG 15424 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 18:34:19.258 DEBUG 15424 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 18:34:19.263 DEBUG 15424 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 18:34:19.266 DEBUG 15424 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 18:34:47.200 DEBUG 15424 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 18:34:47.201 DEBUG 15424 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, String)
2025-10-08 18:34:47.209 DEBUG 15424 --- [http-nio-8080-exec-6] o.s.web.method.HandlerMethod             : Could not resolve parameter [1] in public java.lang.String ru.kata.spring.boot_security.demo.controller.AdminController.saveUser(ru.kata.spring.boot_security.demo.model.User,java.lang.String): Required request parameter 'selectedRole' for method parameter type String is not present
2025-10-08 18:34:47.210  WARN 15424 --- [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'selectedRole' for method parameter type String is not present]
2025-10-08 18:34:47.210 DEBUG 15424 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-08 18:34:47.216 DEBUG 15424 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={masked}
2025-10-08 18:34:47.217 DEBUG 15424 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-10-08 18:34:47.223 DEBUG 15424 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-10-08 18:34:47.224 DEBUG 15424 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-10-08 18:35:11.965 DEBUG 15424 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 18:35:11.965 DEBUG 15424 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, String)
2025-10-08 18:35:11.966 DEBUG 15424 --- [http-nio-8080-exec-8] o.s.web.method.HandlerMethod             : Could not resolve parameter [1] in public java.lang.String ru.kata.spring.boot_security.demo.controller.AdminController.saveUser(ru.kata.spring.boot_security.demo.model.User,java.lang.String): Required request parameter 'selectedRole' for method parameter type String is not present
2025-10-08 18:35:11.966  WARN 15424 --- [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'selectedRole' for method parameter type String is not present]
2025-10-08 18:35:11.966 DEBUG 15424 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-08 18:35:11.967 DEBUG 15424 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={masked}
2025-10-08 18:35:11.967 DEBUG 15424 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-10-08 18:35:11.968 DEBUG 15424 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-10-08 18:35:11.969 DEBUG 15424 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-10-08 18:35:18.068 DEBUG 15424 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 18:35:18.068 DEBUG 15424 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, String)
2025-10-08 18:35:18.069 DEBUG 15424 --- [http-nio-8080-exec-9] o.s.web.method.HandlerMethod             : Could not resolve parameter [1] in public java.lang.String ru.kata.spring.boot_security.demo.controller.AdminController.saveUser(ru.kata.spring.boot_security.demo.model.User,java.lang.String): Required request parameter 'selectedRole' for method parameter type String is not present
2025-10-08 18:35:18.069  WARN 15424 --- [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'selectedRole' for method parameter type String is not present]
2025-10-08 18:35:18.070 DEBUG 15424 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-08 18:35:18.070 DEBUG 15424 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={masked}
2025-10-08 18:35:18.071 DEBUG 15424 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)
2025-10-08 18:35:18.071 DEBUG 15424 --- [http-nio-8080-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2025-10-08 18:35:18.072 DEBUG 15424 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-10-08 19:55:27.781  INFO 15424 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 19:55:27.782  INFO 15424 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 19:55:27.784  INFO 15424 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 19:57:46.414  INFO 3004 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 3004 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 19:57:46.416 DEBUG 3004 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 19:57:46.416  INFO 3004 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 19:57:46.757  INFO 3004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 19:57:46.791  INFO 3004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2025-10-08 19:57:47.064  INFO 3004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 19:57:47.069  INFO 3004 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 19:57:47.069  INFO 3004 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 19:57:47.110  INFO 3004 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 19:57:47.110  INFO 3004 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 664 ms
2025-10-08 19:57:47.200  INFO 3004 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 19:57:47.227  INFO 3004 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 19:57:47.318  INFO 3004 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 19:57:47.371  INFO 3004 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 19:57:47.461  INFO 3004 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 19:57:47.470  INFO 3004 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 19:57:47.818  INFO 3004 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 19:57:47.823  INFO 3004 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 19:57:48.041  WARN 3004 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 19:57:48.127  INFO 3004 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75fa9254, org.springframework.security.web.context.SecurityContextPersistenceFilter@5f4f6f89, org.springframework.security.web.header.HeaderWriterFilter@1cfb7450, org.springframework.security.web.csrf.CsrfFilter@5274830e, org.springframework.security.web.authentication.logout.LogoutFilter@1c14d24d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5dac6bc3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ef220e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f5f8de2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f25ed2b, org.springframework.security.web.session.SessionManagementFilter@1d1deb11, org.springframework.security.web.access.ExceptionTranslationFilter@1e288c76, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6054ac20]
2025-10-08 19:57:48.185 DEBUG 3004 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 19:57:48.220 DEBUG 3004 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 19:57:48.228 DEBUG 3004 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 19:57:48.235 DEBUG 3004 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 19:57:48.240 DEBUG 3004 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 19:57:48.327  INFO 3004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 19:57:48.332  INFO 3004 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.134 seconds (JVM running for 2.502)
2025-10-08 19:57:53.456  INFO 3004 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 19:57:53.456  INFO 3004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 19:57:53.456 DEBUG 3004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 19:57:53.456 DEBUG 3004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 19:57:53.456 DEBUG 3004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 19:57:53.457 DEBUG 3004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7aa1fb0e
2025-10-08 19:57:53.457 DEBUG 3004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@10d97b64
2025-10-08 19:57:53.457 DEBUG 3004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 19:57:53.457  INFO 3004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 19:57:53.491 DEBUG 3004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 19:57:53.493 DEBUG 3004 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 19:57:53.498 DEBUG 3004 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 19:57:53.622 DEBUG 3004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 19:58:02.234 DEBUG 3004 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 19:58:02.235 TRACE 3004 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 19:58:02.247 DEBUG 3004 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:02.247 TRACE 3004 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 19:58:02.351 DEBUG 3004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 19:58:02.352 DEBUG 3004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 19:58:02.363 DEBUG 3004 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 19:58:02.364 DEBUG 3004 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:02.364 TRACE 3004 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [32]
2025-10-08 19:58:02.365 DEBUG 3004 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:02.365 TRACE 3004 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 19:58:02.366 DEBUG 3004 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:02.366 TRACE 3004 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 19:58:02.367 DEBUG 3004 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:02.367 TRACE 3004 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 19:58:02.370 DEBUG 3004 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 19:58:02.393 DEBUG 3004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 19:58:07.161 DEBUG 3004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/admin/deleteUser", parameters={masked}
2025-10-08 19:58:07.162 DEBUG 3004 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#deleteUser(Long)
2025-10-08 19:58:07.169 DEBUG 3004 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 19:58:07.169 TRACE 3004 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [32]
2025-10-08 19:58:07.180 DEBUG 3004 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 19:58:07.180 TRACE 3004 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [32]
2025-10-08 19:58:07.181 DEBUG 3004 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        id=?
2025-10-08 19:58:07.181 TRACE 3004 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [32]
2025-10-08 19:58:07.186 DEBUG 3004 --- [http-nio-8080-exec-5] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 19:58:07.187 DEBUG 3004 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 19:58:07.197 DEBUG 3004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 19:58:07.197 DEBUG 3004 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 19:58:07.198 DEBUG 3004 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 19:58:07.199 DEBUG 3004 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:07.200 TRACE 3004 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 19:58:07.200 DEBUG 3004 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:07.200 TRACE 3004 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 19:58:07.201 DEBUG 3004 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:07.201 TRACE 3004 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 19:58:07.202 DEBUG 3004 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 19:58:07.209 DEBUG 3004 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 19:58:07.883 DEBUG 3004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 19:58:07.883 DEBUG 3004 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 19:58:07.886 DEBUG 3004 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 19:58:07.889 DEBUG 3004 --- [http-nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 19:58:07.894 DEBUG 3004 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 19:58:29.989 DEBUG 3004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 19:58:29.990 DEBUG 3004 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, List)
2025-10-08 19:58:30.000 DEBUG 3004 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.id in (
            ? , ?
        )
2025-10-08 19:58:30.000 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2025-10-08 19:58:30.000 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2025-10-08 19:58:30.075 DEBUG 3004 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        users
        (age, email, name, password, surname, username) 
    values
        (?, ?, ?, ?, ?, ?)
2025-10-08 19:58:30.075 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]
2025-10-08 19:58:30.075 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 19:58:30.075 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 19:58:30.075 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$dC.Te9a2UnIvIir4Kc.Ar.n0z/PEEBlxzvfKG2Ys4Q2/UeUy9gqg2]
2025-10-08 19:58:30.075 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 19:58:30.075 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antoni]
2025-10-08 19:58:30.078 DEBUG 3004 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 19:58:30.078 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:58:30.078 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 19:58:30.079 DEBUG 3004 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 19:58:30.079 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:58:30.079 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2025-10-08 19:58:30.085 DEBUG 3004 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 19:58:30.085 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 19:58:30.088 DEBUG 3004 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 19:58:30.088 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:58:30.088 DEBUG 3004 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 19:58:30.089 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:58:30.089 TRACE 3004 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 19:58:30.092 DEBUG 3004 --- [http-nio-8080-exec-8] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 19:58:30.093 DEBUG 3004 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 19:58:30.102 DEBUG 3004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 19:58:30.102 DEBUG 3004 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 19:58:30.103 DEBUG 3004 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 19:58:30.104 DEBUG 3004 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:30.104 TRACE 3004 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:58:30.105 DEBUG 3004 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:30.105 TRACE 3004 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 19:58:30.106 DEBUG 3004 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:30.106 TRACE 3004 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 19:58:30.107 DEBUG 3004 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:30.107 TRACE 3004 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 19:58:30.109 DEBUG 3004 --- [http-nio-8080-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 19:58:30.115 DEBUG 3004 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 19:58:35.066 DEBUG 3004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=33", parameters={masked}
2025-10-08 19:58:35.066 DEBUG 3004 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 19:58:35.068 DEBUG 3004 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 19:58:35.068 TRACE 3004 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:58:35.070 DEBUG 3004 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 19:58:35.071 DEBUG 3004 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 19:58:35.082 DEBUG 3004 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 19:58:37.569 DEBUG 3004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 19:58:37.569 DEBUG 3004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 19:58:37.571 DEBUG 3004 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 19:58:37.571 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:58:37.643 DEBUG 3004 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 19:58:37.643 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 19:58:37.644 DEBUG 3004 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 19:58:37.644 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]
2025-10-08 19:58:37.644 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 19:58:37.644 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 19:58:37.644 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$6V3qVLbK.1E/xgLSmCp0HeHjcy7uhdsJpmWZSQMowm7M7FerlgqDy]
2025-10-08 19:58:37.644 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 19:58:37.645 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antoni]
2025-10-08 19:58:37.645 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [33]
2025-10-08 19:58:37.645 DEBUG 3004 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 19:58:37.645 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:58:37.645 DEBUG 3004 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 19:58:37.645 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:58:37.645 TRACE 3004 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 19:58:37.648 DEBUG 3004 --- [http-nio-8080-exec-1] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 19:58:37.648 DEBUG 3004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 19:58:37.658 DEBUG 3004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 19:58:37.658 DEBUG 3004 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 19:58:37.659 DEBUG 3004 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 19:58:37.660 DEBUG 3004 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:37.660 TRACE 3004 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:58:37.661 DEBUG 3004 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:37.661 TRACE 3004 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 19:58:37.661 DEBUG 3004 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:37.661 TRACE 3004 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 19:58:37.662 DEBUG 3004 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:58:37.662 TRACE 3004 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 19:58:37.663 DEBUG 3004 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 19:58:37.670 DEBUG 3004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 19:58:54.662  INFO 3004 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 19:58:54.663  INFO 3004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 19:58:54.669  INFO 3004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 19:59:23.603  INFO 17996 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 17996 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 19:59:23.604 DEBUG 17996 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 19:59:23.605  INFO 17996 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 19:59:23.944  INFO 17996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 19:59:23.973  INFO 17996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 19:59:24.248  INFO 17996 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 19:59:24.253  INFO 17996 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 19:59:24.253  INFO 17996 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 19:59:24.296  INFO 17996 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 19:59:24.296  INFO 17996 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 658 ms
2025-10-08 19:59:24.388  INFO 17996 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 19:59:24.415  INFO 17996 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 19:59:24.504  INFO 17996 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 19:59:24.557  INFO 17996 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 19:59:24.647  INFO 17996 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 19:59:24.655  INFO 17996 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 19:59:25.008  INFO 17996 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 19:59:25.012  INFO 17996 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 19:59:25.223  WARN 17996 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 19:59:25.306  INFO 17996 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35f35c59, org.springframework.security.web.context.SecurityContextPersistenceFilter@161c9468, org.springframework.security.web.header.HeaderWriterFilter@5020e5ab, org.springframework.security.web.csrf.CsrfFilter@6958d5d0, org.springframework.security.web.authentication.logout.LogoutFilter@70eb94d7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@319d106c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b32b678, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c1a95a2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2245ccaa, org.springframework.security.web.session.SessionManagementFilter@143fe09c, org.springframework.security.web.access.ExceptionTranslationFilter@47994b51, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71e409f]
2025-10-08 19:59:25.365 DEBUG 17996 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 19:59:25.399 DEBUG 17996 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 19:59:25.408 DEBUG 17996 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 19:59:25.416 DEBUG 17996 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 19:59:25.421 DEBUG 17996 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 19:59:25.510  INFO 17996 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 19:59:25.515  INFO 17996 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.113 seconds (JVM running for 2.464)
2025-10-08 19:59:30.339  INFO 17996 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 19:59:30.339  INFO 17996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 19:59:30.339 DEBUG 17996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 19:59:30.339 DEBUG 17996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 19:59:30.339 DEBUG 17996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 19:59:30.340 DEBUG 17996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4a0c04ab
2025-10-08 19:59:30.340 DEBUG 17996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@458b4487
2025-10-08 19:59:30.340 DEBUG 17996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 19:59:30.340  INFO 17996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 19:59:30.378 DEBUG 17996 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 19:59:30.381 DEBUG 17996 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 19:59:30.385 DEBUG 17996 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 19:59:30.505 DEBUG 17996 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 19:59:37.224 DEBUG 17996 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 19:59:37.225 TRACE 17996 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 19:59:37.237 DEBUG 17996 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:59:37.237 TRACE 17996 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 19:59:37.338 DEBUG 17996 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 19:59:37.339 DEBUG 17996 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 19:59:37.350 DEBUG 17996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 19:59:37.352 DEBUG 17996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:59:37.352 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:59:37.353 DEBUG 17996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:59:37.353 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 19:59:37.353 DEBUG 17996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:59:37.354 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 19:59:37.354 DEBUG 17996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:59:37.354 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 19:59:37.358 DEBUG 17996 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 19:59:37.381 DEBUG 17996 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 19:59:41.423 DEBUG 17996 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/admin/deleteUser", parameters={masked}
2025-10-08 19:59:41.424 DEBUG 17996 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#deleteUser(Long)
2025-10-08 19:59:41.431 DEBUG 17996 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 19:59:41.431 TRACE 17996 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:59:41.441 DEBUG 17996 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 19:59:41.441 TRACE 17996 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:59:41.443 DEBUG 17996 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    delete 
    from
        users 
    where
        id=?
2025-10-08 19:59:41.443 TRACE 17996 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [33]
2025-10-08 19:59:41.448 DEBUG 17996 --- [http-nio-8080-exec-5] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 19:59:41.448 DEBUG 17996 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 19:59:41.458 DEBUG 17996 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 19:59:41.459 DEBUG 17996 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 19:59:41.459 DEBUG 17996 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 19:59:41.460 DEBUG 17996 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:59:41.461 TRACE 17996 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 19:59:41.461 DEBUG 17996 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:59:41.461 TRACE 17996 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 19:59:41.462 DEBUG 17996 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 19:59:41.462 TRACE 17996 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 19:59:41.463 DEBUG 17996 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 19:59:41.469 DEBUG 17996 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 19:59:42.538 DEBUG 17996 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 19:59:42.539 DEBUG 17996 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 19:59:42.542 DEBUG 17996 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 19:59:42.545 DEBUG 17996 --- [http-nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 19:59:42.549 DEBUG 17996 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:00:01.971 DEBUG 17996 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 20:00:01.972 DEBUG 17996 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, List)
2025-10-08 20:00:01.981 DEBUG 17996 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.id in (
            ? , ?
        )
2025-10-08 20:00:01.981 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2025-10-08 20:00:01.982 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2025-10-08 20:00:02.054 DEBUG 17996 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        users
        (age, email, name, password, surname, username) 
    values
        (?, ?, ?, ?, ?, ?)
2025-10-08 20:00:02.055 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]
2025-10-08 20:00:02.055 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 20:00:02.055 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 20:00:02.055 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$ccl1gQw2vb6D1LbytqOHYu8Iy3WFgh4en9s3Lib6pyvvx/L2ZQCrK]
2025-10-08 20:00:02.055 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 20:00:02.055 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antoni]
2025-10-08 20:00:02.058 DEBUG 17996 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:00:02.058 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:02.058 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 20:00:02.059 DEBUG 17996 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:00:02.059 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:02.059 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2025-10-08 20:00:02.062 DEBUG 17996 --- [http-nio-8080-exec-8] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 20:00:02.062 DEBUG 17996 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 20:00:02.072 DEBUG 17996 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:00:02.072 DEBUG 17996 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:00:02.073 DEBUG 17996 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:00:02.074 DEBUG 17996 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:02.074 TRACE 17996 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:02.075 DEBUG 17996 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:02.075 TRACE 17996 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:00:02.075 DEBUG 17996 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:02.076 TRACE 17996 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:00:02.076 DEBUG 17996 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:02.076 TRACE 17996 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:00:02.077 DEBUG 17996 --- [http-nio-8080-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:00:02.083 DEBUG 17996 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:00:05.822 DEBUG 17996 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=34", parameters={masked}
2025-10-08 20:00:05.822 DEBUG 17996 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:00:05.824 DEBUG 17996 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:00:05.824 TRACE 17996 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:05.827 DEBUG 17996 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:00:05.828 DEBUG 17996 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:00:05.837 DEBUG 17996 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:00:11.286 DEBUG 17996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 20:00:11.286 DEBUG 17996 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 20:00:11.289 DEBUG 17996 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:00:11.290 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:11.362 DEBUG 17996 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 20:00:11.363 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 20:00:11.366 DEBUG 17996 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 20:00:11.367 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]
2025-10-08 20:00:11.367 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 20:00:11.367 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 20:00:11.367 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$uv/dtJaf4JFkXmCoxK2D5.Q0oUDEerJWrvCC.VdRWy1sTTC2hj662]
2025-10-08 20:00:11.367 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 20:00:11.367 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antoni]
2025-10-08 20:00:11.367 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [34]
2025-10-08 20:00:11.368 DEBUG 17996 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 20:00:11.368 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:11.368 DEBUG 17996 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:00:11.369 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:11.369 TRACE 17996 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 20:00:11.372 DEBUG 17996 --- [http-nio-8080-exec-1] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 20:00:11.372 DEBUG 17996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 20:00:11.381 DEBUG 17996 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:00:11.381 DEBUG 17996 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:00:11.382 DEBUG 17996 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:00:11.383 DEBUG 17996 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:11.383 TRACE 17996 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:11.384 DEBUG 17996 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:11.384 TRACE 17996 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:00:11.384 DEBUG 17996 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:11.385 TRACE 17996 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:00:11.385 DEBUG 17996 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:11.385 TRACE 17996 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:00:11.386 DEBUG 17996 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:00:11.392 DEBUG 17996 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:00:13.191 DEBUG 17996 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=34", parameters={masked}
2025-10-08 20:00:13.192 DEBUG 17996 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:00:13.193 DEBUG 17996 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:00:13.193 TRACE 17996 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:13.194 DEBUG 17996 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:00:13.195 DEBUG 17996 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:00:13.198 DEBUG 17996 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:00:17.101 DEBUG 17996 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 20:00:17.102 DEBUG 17996 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 20:00:17.103 DEBUG 17996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:00:17.104 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:17.177 DEBUG 17996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 20:00:17.177 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 20:00:17.178 DEBUG 17996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 20:00:17.178 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]
2025-10-08 20:00:17.178 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 20:00:17.178 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 20:00:17.178 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$U0pA97dL4/HITG1CHz/LyeFZVqCGZaCGR1V5oadkw1MDY1/G0YfSu]
2025-10-08 20:00:17.178 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 20:00:17.179 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antoni]
2025-10-08 20:00:17.179 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [34]
2025-10-08 20:00:17.179 DEBUG 17996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 20:00:17.179 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:17.180 DEBUG 17996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:00:17.180 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:17.180 TRACE 17996 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 20:00:17.183 DEBUG 17996 --- [http-nio-8080-exec-4] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 20:00:17.183 DEBUG 17996 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 20:00:17.192 DEBUG 17996 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:00:17.193 DEBUG 17996 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:00:17.193 DEBUG 17996 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:00:17.194 DEBUG 17996 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:17.195 TRACE 17996 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:17.195 DEBUG 17996 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:17.195 TRACE 17996 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:00:17.196 DEBUG 17996 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:17.196 TRACE 17996 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:00:17.197 DEBUG 17996 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:17.197 TRACE 17996 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:00:17.198 DEBUG 17996 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:00:17.204 DEBUG 17996 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:00:22.562 DEBUG 17996 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=34", parameters={masked}
2025-10-08 20:00:22.562 DEBUG 17996 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:00:22.564 DEBUG 17996 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:00:22.564 TRACE 17996 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:22.566 DEBUG 17996 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:00:22.567 DEBUG 17996 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:00:22.569 DEBUG 17996 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:00:24.668 DEBUG 17996 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 20:00:24.668 DEBUG 17996 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 20:00:24.670 DEBUG 17996 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:00:24.671 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:24.741 DEBUG 17996 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 20:00:24.741 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 20:00:24.742 DEBUG 17996 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 20:00:24.742 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]
2025-10-08 20:00:24.742 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 20:00:24.742 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 20:00:24.742 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$xdkjrVQwplsPD3Fc5Vs06.KTI4o2oPKUGEuiSY7qjyZQywNtIl7jq]
2025-10-08 20:00:24.743 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 20:00:24.743 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antoni]
2025-10-08 20:00:24.743 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [34]
2025-10-08 20:00:24.743 DEBUG 17996 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 20:00:24.743 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:24.744 DEBUG 17996 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:00:24.744 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:24.744 TRACE 17996 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 20:00:24.747 DEBUG 17996 --- [http-nio-8080-exec-7] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 20:00:24.747 DEBUG 17996 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 20:00:24.756 DEBUG 17996 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:00:24.757 DEBUG 17996 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:00:24.757 DEBUG 17996 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:00:24.758 DEBUG 17996 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:24.758 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:00:24.759 DEBUG 17996 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:24.759 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:00:24.760 DEBUG 17996 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:24.760 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:00:24.760 DEBUG 17996 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:00:24.760 TRACE 17996 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:00:24.761 DEBUG 17996 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:00:24.765 DEBUG 17996 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:02:01.259  INFO 17996 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:02:01.260  INFO 17996 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 20:02:01.264  INFO 17996 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 20:03:37.629  INFO 6920 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 6920 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 20:03:37.630 DEBUG 6920 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 20:03:37.630  INFO 6920 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 20:03:37.977  INFO 6920 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 20:03:38.006  INFO 6920 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 20:03:38.285  INFO 6920 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 20:03:38.290  INFO 6920 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 20:03:38.290  INFO 6920 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 20:03:38.333  INFO 6920 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 20:03:38.333  INFO 6920 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 672 ms
2025-10-08 20:03:38.425  INFO 6920 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 20:03:38.452  INFO 6920 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 20:03:38.543  INFO 6920 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 20:03:38.595  INFO 6920 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 20:03:38.685  INFO 6920 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 20:03:38.693  INFO 6920 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 20:03:39.042  INFO 6920 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 20:03:39.046  INFO 6920 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:03:39.255  WARN 6920 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 20:03:39.337  INFO 6920 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@744db9fb, org.springframework.security.web.context.SecurityContextPersistenceFilter@35dc849b, org.springframework.security.web.header.HeaderWriterFilter@234bfc8c, org.springframework.security.web.csrf.CsrfFilter@32ddcca, org.springframework.security.web.authentication.logout.LogoutFilter@4b5f022f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@64908ab9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34065642, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@677c2820, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59043741, org.springframework.security.web.session.SessionManagementFilter@4c0bfe9e, org.springframework.security.web.access.ExceptionTranslationFilter@6baee63b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7535307c]
2025-10-08 20:03:39.394 DEBUG 6920 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 20:03:39.428 DEBUG 6920 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 20:03:39.437 DEBUG 6920 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 20:03:39.444 DEBUG 6920 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 20:03:39.448 DEBUG 6920 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 20:03:39.537  INFO 6920 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 20:03:39.542  INFO 6920 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.117 seconds (JVM running for 2.479)
2025-10-08 20:03:44.110  INFO 6920 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 20:03:44.110  INFO 6920 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 20:03:44.110 DEBUG 6920 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 20:03:44.110 DEBUG 6920 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 20:03:44.110 DEBUG 6920 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 20:03:44.111 DEBUG 6920 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2184962c
2025-10-08 20:03:44.111 DEBUG 6920 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@703a2bc9
2025-10-08 20:03:44.111 DEBUG 6920 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 20:03:44.111  INFO 6920 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 20:03:44.150 DEBUG 6920 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 20:03:44.153 DEBUG 6920 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:03:44.157 DEBUG 6920 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:03:44.278 DEBUG 6920 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:03:53.202 DEBUG 6920 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 20:03:53.203 TRACE 6920 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 20:03:53.214 DEBUG 6920 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:03:53.214 TRACE 6920 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:03:53.316 DEBUG 6920 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:03:53.317 DEBUG 6920 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:03:53.327 DEBUG 6920 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:03:53.328 DEBUG 6920 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:03:53.329 TRACE 6920 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:03:53.329 DEBUG 6920 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:03:53.330 TRACE 6920 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:03:53.330 DEBUG 6920 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:03:53.330 TRACE 6920 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:03:53.331 DEBUG 6920 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:03:53.331 TRACE 6920 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:03:53.335 DEBUG 6920 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:03:53.357 DEBUG 6920 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:03:55.044 DEBUG 6920 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=34", parameters={masked}
2025-10-08 20:03:55.045 DEBUG 6920 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:03:55.053 DEBUG 6920 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:03:55.053 TRACE 6920 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:03:55.057 DEBUG 6920 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:03:55.059 DEBUG 6920 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:03:55.072 DEBUG 6920 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:03:58.132 DEBUG 6920 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 20:03:58.133 DEBUG 6920 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 20:03:58.138 DEBUG 6920 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:03:58.139 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:03:58.213 DEBUG 6920 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.name=?
2025-10-08 20:03:58.214 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2025-10-08 20:03:58.222 DEBUG 6920 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 20:03:58.222 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]
2025-10-08 20:03:58.222 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 20:03:58.222 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 20:03:58.222 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$LMwnDiztULiZ0xfkls8MGuAUhv1JPAP.a3tSHg2BIm.EKSQVKZm3y]
2025-10-08 20:03:58.222 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 20:03:58.222 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antoni]
2025-10-08 20:03:58.222 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [34]
2025-10-08 20:03:58.224 DEBUG 6920 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 20:03:58.224 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:03:58.225 DEBUG 6920 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:03:58.225 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:03:58.226 TRACE 6920 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 20:03:58.230 DEBUG 6920 --- [http-nio-8080-exec-6] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 20:03:58.231 DEBUG 6920 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 20:03:58.240 DEBUG 6920 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:03:58.240 DEBUG 6920 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:03:58.241 DEBUG 6920 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:03:58.242 DEBUG 6920 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:03:58.243 TRACE 6920 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:03:58.243 DEBUG 6920 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:03:58.243 TRACE 6920 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:03:58.244 DEBUG 6920 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:03:58.244 TRACE 6920 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:03:58.244 DEBUG 6920 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:03:58.244 TRACE 6920 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:03:58.246 DEBUG 6920 --- [http-nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:03:58.254 DEBUG 6920 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:04:01.120 DEBUG 6920 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:04:01.120 DEBUG 6920 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:04:01.121 DEBUG 6920 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:04:01.122 DEBUG 6920 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:04:01.122 TRACE 6920 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:04:01.123 DEBUG 6920 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:04:01.123 TRACE 6920 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:04:01.124 DEBUG 6920 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:04:01.124 TRACE 6920 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:04:01.124 DEBUG 6920 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:04:01.124 TRACE 6920 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:04:01.125 DEBUG 6920 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:04:01.133 DEBUG 6920 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:04:06.885 DEBUG 6920 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=34", parameters={masked}
2025-10-08 20:04:06.885 DEBUG 6920 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:04:06.886 DEBUG 6920 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:04:06.887 TRACE 6920 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:04:06.889 DEBUG 6920 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:04:06.890 DEBUG 6920 --- [http-nio-8080-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:04:06.893 DEBUG 6920 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:05:01.755  INFO 6920 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:05:01.756  INFO 6920 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 20:05:01.760  INFO 6920 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 20:05:03.263  INFO 13336 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 13336 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 20:05:03.264 DEBUG 13336 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 20:05:03.264  INFO 13336 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 20:05:03.601  INFO 13336 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 20:05:03.631  INFO 13336 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 20:05:03.899  INFO 13336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 20:05:03.904  INFO 13336 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 20:05:03.905  INFO 13336 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 20:05:03.946  INFO 13336 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 20:05:03.946  INFO 13336 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 650 ms
2025-10-08 20:05:04.037  INFO 13336 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 20:05:04.062  INFO 13336 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 20:05:04.151  INFO 13336 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 20:05:04.204  INFO 13336 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 20:05:04.292  INFO 13336 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 20:05:04.301  INFO 13336 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 20:05:04.652  INFO 13336 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 20:05:04.657  INFO 13336 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:05:04.871  WARN 13336 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 20:05:04.954  INFO 13336 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4088702d, org.springframework.security.web.context.SecurityContextPersistenceFilter@69abeb14, org.springframework.security.web.header.HeaderWriterFilter@161c9468, org.springframework.security.web.csrf.CsrfFilter@90394d, org.springframework.security.web.authentication.logout.LogoutFilter@dbcf7c3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@35f35c59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34d5eac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@632b96b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c24c40a, org.springframework.security.web.session.SessionManagementFilter@6b32b678, org.springframework.security.web.access.ExceptionTranslationFilter@143fe09c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@29174dfe]
2025-10-08 20:05:05.012 DEBUG 13336 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 20:05:05.047 DEBUG 13336 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 20:05:05.055 DEBUG 13336 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 20:05:05.063 DEBUG 13336 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 20:05:05.067 DEBUG 13336 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 20:05:05.156  INFO 13336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 20:05:05.161  INFO 13336 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.102 seconds (JVM running for 2.539)
2025-10-08 20:05:11.926  INFO 13336 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 20:05:11.926  INFO 13336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 20:05:11.926 DEBUG 13336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 20:05:11.926 DEBUG 13336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 20:05:11.926 DEBUG 13336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 20:05:11.927 DEBUG 13336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7533923b
2025-10-08 20:05:11.927 DEBUG 13336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1f641fb7
2025-10-08 20:05:11.927 DEBUG 13336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 20:05:11.927  INFO 13336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 20:05:11.965 DEBUG 13336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 20:05:11.968 DEBUG 13336 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:05:11.972 DEBUG 13336 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:05:12.092 DEBUG 13336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:05:18.073 DEBUG 13336 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 20:05:18.074 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 20:05:18.090 DEBUG 13336 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:05:18.091 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:05:18.188 DEBUG 13336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:05:18.189 DEBUG 13336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:05:18.199 DEBUG 13336 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:05:18.200 DEBUG 13336 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:05:18.201 TRACE 13336 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:05:18.201 DEBUG 13336 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:05:18.202 TRACE 13336 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:05:18.202 DEBUG 13336 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:05:18.202 TRACE 13336 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:05:18.203 DEBUG 13336 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:05:18.203 TRACE 13336 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:05:18.206 DEBUG 13336 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:05:18.229 DEBUG 13336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:05:24.364 DEBUG 13336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=34", parameters={masked}
2025-10-08 20:05:24.364 DEBUG 13336 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:05:24.371 DEBUG 13336 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:05:24.371 TRACE 13336 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:05:24.375 DEBUG 13336 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:05:24.377 DEBUG 13336 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:05:24.389 DEBUG 13336 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:05:27.677 DEBUG 13336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 20:05:27.677 DEBUG 13336 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 20:05:27.683 DEBUG 13336 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:05:27.684 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:05:27.760 DEBUG 13336 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.id in (
            ? , ?
        )
2025-10-08 20:05:27.760 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2025-10-08 20:05:27.760 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2025-10-08 20:05:27.767 DEBUG 13336 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 20:05:27.768 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]
2025-10-08 20:05:27.768 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 20:05:27.768 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 20:05:27.768 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$oYyorL3Sqg4WCMhmT1QyBeveOmfksK2aSTRlZFRLG1Nn1Ro.1vuVW]
2025-10-08 20:05:27.768 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 20:05:27.768 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antoni]
2025-10-08 20:05:27.768 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [34]
2025-10-08 20:05:27.770 DEBUG 13336 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 20:05:27.770 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:05:27.771 DEBUG 13336 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:05:27.771 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:05:27.772 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 20:05:27.772 DEBUG 13336 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:05:27.772 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:05:27.773 TRACE 13336 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2025-10-08 20:05:27.777 DEBUG 13336 --- [http-nio-8080-exec-6] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 20:05:27.778 DEBUG 13336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 20:05:27.788 DEBUG 13336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:05:27.789 DEBUG 13336 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:05:27.790 DEBUG 13336 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:05:27.791 DEBUG 13336 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:05:27.791 TRACE 13336 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:05:27.791 DEBUG 13336 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:05:27.792 TRACE 13336 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:05:27.792 DEBUG 13336 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:05:27.792 TRACE 13336 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:05:27.793 DEBUG 13336 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:05:27.793 TRACE 13336 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:05:27.794 DEBUG 13336 --- [http-nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:05:27.800 DEBUG 13336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:05:34.793 DEBUG 13336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 20:05:34.794 DEBUG 13336 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 20:05:34.796 DEBUG 13336 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:05:34.798 DEBUG 13336 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:05:34.800 DEBUG 13336 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:06:26.864 DEBUG 13336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/admin/save", parameters={masked}
2025-10-08 20:06:26.865 DEBUG 13336 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#saveUser(User, List)
2025-10-08 20:06:26.866 DEBUG 13336 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.id in (
            ? , ?
        )
2025-10-08 20:06:26.867 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2025-10-08 20:06:26.867 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2025-10-08 20:06:26.939 DEBUG 13336 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        users
        (age, email, name, password, surname, username) 
    values
        (?, ?, ?, ?, ?, ?)
2025-10-08 20:06:26.939 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [28]
2025-10-08 20:06:26.939 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 20:06:26.939 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 20:06:26.939 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$49AtTtjHULPEeRvQMl6Ozu1Htw8kUTYDysNoHZJMfrqQb2tuzlXoy]
2025-10-08 20:06:26.939 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Сидоров]
2025-10-08 20:06:26.939 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [sidorov]
2025-10-08 20:06:26.941 DEBUG 13336 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:06:26.942 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:06:26.942 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 20:06:26.942 DEBUG 13336 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:06:26.942 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:06:26.942 TRACE 13336 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2025-10-08 20:06:26.945 DEBUG 13336 --- [http-nio-8080-exec-10] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 20:06:26.946 DEBUG 13336 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 20:06:26.956 DEBUG 13336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:06:26.956 DEBUG 13336 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:06:26.957 DEBUG 13336 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:06:26.958 DEBUG 13336 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:06:26.958 TRACE 13336 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:06:26.959 DEBUG 13336 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:06:26.959 TRACE 13336 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:06:26.960 DEBUG 13336 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:06:26.960 TRACE 13336 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:06:26.960 DEBUG 13336 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:06:26.960 TRACE 13336 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:06:26.961 DEBUG 13336 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:06:26.961 TRACE 13336 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:06:26.964 DEBUG 13336 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:06:26.971 DEBUG 13336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:06:38.556 DEBUG 13336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=35", parameters={masked}
2025-10-08 20:06:38.556 DEBUG 13336 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:06:38.557 DEBUG 13336 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:06:38.558 TRACE 13336 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:06:38.559 DEBUG 13336 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:06:38.560 DEBUG 13336 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:06:38.564 DEBUG 13336 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:07:06.583 DEBUG 13336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 20:07:06.584 DEBUG 13336 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 20:07:06.585 DEBUG 13336 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:07:06.586 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:07:06.656 DEBUG 13336 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.id in (
            ?
        )
2025-10-08 20:07:06.656 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2025-10-08 20:07:06.657 DEBUG 13336 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 20:07:06.658 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [28]
2025-10-08 20:07:06.658 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [sidorov@orp.ru]
2025-10-08 20:07:06.658 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 20:07:06.658 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$Ws5uPmhqZLvr6t2GF2yR1egFR/ZqnfwvhCBkAvo.x8bfGHtX/Fgym]
2025-10-08 20:07:06.658 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Сидоров]
2025-10-08 20:07:06.658 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [sidorov]
2025-10-08 20:07:06.658 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [35]
2025-10-08 20:07:06.658 DEBUG 13336 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 20:07:06.659 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:07:06.659 DEBUG 13336 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:07:06.659 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:07:06.660 TRACE 13336 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 20:07:06.663 DEBUG 13336 --- [http-nio-8080-exec-3] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 20:07:06.663 DEBUG 13336 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 20:07:06.672 DEBUG 13336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:07:06.673 DEBUG 13336 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:07:06.673 DEBUG 13336 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:07:06.674 DEBUG 13336 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:07:06.675 TRACE 13336 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:07:06.676 DEBUG 13336 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:07:06.676 TRACE 13336 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:07:06.677 DEBUG 13336 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:07:06.678 TRACE 13336 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:07:06.679 DEBUG 13336 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:07:06.679 TRACE 13336 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:07:06.680 DEBUG 13336 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:07:06.680 TRACE 13336 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:07:06.681 DEBUG 13336 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:07:06.688 DEBUG 13336 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:07:18.219 DEBUG 13336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 20:07:18.219 DEBUG 13336 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:07:18.220 DEBUG 13336 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:07:18.221 DEBUG 13336 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:07:22.515 DEBUG 13336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 20:07:22.515 DEBUG 13336 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:07:22.516 DEBUG 13336 --- [http-nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:07:22.517 DEBUG 13336 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:07:26.284  INFO 13336 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:07:26.285  INFO 13336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 20:07:26.290  INFO 13336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 20:18:41.545  INFO 3560 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 3560 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 20:18:41.546 DEBUG 3560 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 20:18:41.546  INFO 3560 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 20:18:41.885  INFO 3560 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 20:18:41.915  INFO 3560 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2025-10-08 20:18:42.186  INFO 3560 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 20:18:42.191  INFO 3560 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 20:18:42.192  INFO 3560 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 20:18:42.242  INFO 3560 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 20:18:42.242  INFO 3560 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 666 ms
2025-10-08 20:18:42.337  INFO 3560 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 20:18:42.364  INFO 3560 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 20:18:42.456  INFO 3560 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 20:18:42.506  INFO 3560 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 20:18:42.595  INFO 3560 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 20:18:42.604  INFO 3560 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 20:18:42.952  INFO 3560 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 20:18:42.957  INFO 3560 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:18:43.170  WARN 3560 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 20:18:43.256  INFO 3560 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7535307c, org.springframework.security.web.context.SecurityContextPersistenceFilter@68f264bf, org.springframework.security.web.header.HeaderWriterFilter@7c45191e, org.springframework.security.web.csrf.CsrfFilter@520ec7a7, org.springframework.security.web.authentication.logout.LogoutFilter@4d66cb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6f25ed2b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f5f8de2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c0bfe9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556a6320, org.springframework.security.web.session.SessionManagementFilter@18bc1064, org.springframework.security.web.access.ExceptionTranslationFilter@18d1d137, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5dac6bc3]
2025-10-08 20:18:43.317 DEBUG 3560 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 20:18:43.351 DEBUG 3560 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 20:18:43.360 DEBUG 3560 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 20:18:43.367 DEBUG 3560 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 20:18:43.371 DEBUG 3560 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 20:18:43.461  INFO 3560 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 20:18:43.465  INFO 3560 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.13 seconds (JVM running for 2.496)
2025-10-08 20:18:50.516  INFO 3560 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 20:18:50.517  INFO 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 20:18:50.517 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 20:18:50.517 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 20:18:50.517 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 20:18:50.517 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@634d3439
2025-10-08 20:18:50.517 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7efba9b9
2025-10-08 20:18:50.518 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 20:18:50.518  INFO 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 20:18:50.531 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 20:18:50.538 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:18:50.544 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:18:50.673 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:18:59.586  WARN 3560 --- [http-nio-8080-exec-2] r.k.s.b.demo.service.UserServiceImpl     : Попытка загрузки пользователя: antoni
2025-10-08 20:18:59.644 DEBUG 3560 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 20:18:59.645 TRACE 3560 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [antoni]
2025-10-08 20:18:59.657 DEBUG 3560 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:18:59.657 TRACE 3560 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:18:59.751 DEBUG 3560 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login?error", parameters={masked}
2025-10-08 20:18:59.751 DEBUG 3560 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:18:59.752 DEBUG 3560 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:18:59.754 DEBUG 3560 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:19:42.539  WARN 3560 --- [http-nio-8080-exec-4] r.k.s.b.demo.service.UserServiceImpl     : Попытка загрузки пользователя: admin
2025-10-08 20:19:42.540 DEBUG 3560 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 20:19:42.541 TRACE 3560 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 20:19:42.541 DEBUG 3560 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:19:42.542 TRACE 3560 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:19:42.623 DEBUG 3560 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:19:42.628 DEBUG 3560 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:19:42.641  WARN 3560 --- [http-nio-8080-exec-5] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 20:19:42.647 DEBUG 3560 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:19:42.649 DEBUG 3560 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:19:42.649 TRACE 3560 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:19:42.650 DEBUG 3560 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:19:42.650 TRACE 3560 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:19:42.651 DEBUG 3560 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:19:42.651 TRACE 3560 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:19:42.651 DEBUG 3560 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:19:42.651 TRACE 3560 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:19:42.652 DEBUG 3560 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:19:42.652 TRACE 3560 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:19:42.656 DEBUG 3560 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:19:42.678 DEBUG 3560 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:20:46.761 DEBUG 3560 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=34", parameters={masked}
2025-10-08 20:20:46.762 DEBUG 3560 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:20:46.768  WARN 3560 --- [http-nio-8080-exec-8] r.k.s.b.demo.service.UserServiceImpl     : Запрос пользователя по ID: 34
2025-10-08 20:20:46.770 DEBUG 3560 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:20:46.770 TRACE 3560 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:20:46.777 DEBUG 3560 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:20:46.780 DEBUG 3560 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:20:46.794 DEBUG 3560 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:21:02.087 DEBUG 3560 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 20:21:02.087 DEBUG 3560 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 20:21:02.094  WARN 3560 --- [http-nio-8080-exec-9] r.k.s.b.demo.service.UserServiceImpl     : Обновление пользователя: antoni (ID: 34)
2025-10-08 20:21:02.094  WARN 3560 --- [http-nio-8080-exec-9] r.k.s.b.demo.service.UserServiceImpl     : Полученные roleIds для обновления: [1]
2025-10-08 20:21:02.094  WARN 3560 --- [http-nio-8080-exec-9] r.k.s.b.demo.service.UserServiceImpl     : Запрос пользователя по ID: 34
2025-10-08 20:21:02.094 DEBUG 3560 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:21:02.095 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:21:02.096  WARN 3560 --- [http-nio-8080-exec-9] r.k.s.b.demo.service.UserServiceImpl     : Пароль изменен, выполняется хэширование
2025-10-08 20:21:02.164  WARN 3560 --- [http-nio-8080-exec-9] r.k.s.b.demo.service.UserServiceImpl     : Установка ролей для пользователя: antoni
2025-10-08 20:21:02.170 DEBUG 3560 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.id in (
            ?
        )
2025-10-08 20:21:02.171 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2025-10-08 20:21:02.172  WARN 3560 --- [http-nio-8080-exec-9] r.k.s.b.demo.service.UserServiceImpl     : Найдены роли по ID: [ROLE_USER]
2025-10-08 20:21:02.172  WARN 3560 --- [http-nio-8080-exec-9] r.k.s.b.demo.service.UserServiceImpl     : Установлены роли для antoni: [ROLE_USER]
2025-10-08 20:21:02.177  WARN 3560 --- [http-nio-8080-exec-9] r.k.s.b.demo.service.UserServiceImpl     : Пользователь обновлен: antoni с ролями: [ROLE_USER]
2025-10-08 20:21:02.180 DEBUG 3560 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 20:21:02.181 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]
2025-10-08 20:21:02.181 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - []
2025-10-08 20:21:02.181 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 20:21:02.181 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$3pQ9KryrQw35kIDUohYBqeWxrxPpupkmNizr31Jk9nE28urRgVdQC]
2025-10-08 20:21:02.181 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 20:21:02.181 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antoni]
2025-10-08 20:21:02.181 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [34]
2025-10-08 20:21:02.183 DEBUG 3560 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 20:21:02.183 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:21:02.184 DEBUG 3560 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:21:02.184 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:21:02.184 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 20:21:02.189 DEBUG 3560 --- [http-nio-8080-exec-9] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 20:21:02.190 DEBUG 3560 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 20:21:02.199 DEBUG 3560 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:21:02.199 DEBUG 3560 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:21:02.200  WARN 3560 --- [http-nio-8080-exec-10] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 20:21:02.200 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:21:02.201 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:02.201 TRACE 3560 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:21:02.202 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:02.202 TRACE 3560 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:21:02.202 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:02.202 TRACE 3560 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:21:02.203 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:02.203 TRACE 3560 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:21:02.204 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:02.204 TRACE 3560 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:21:02.207 DEBUG 3560 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:21:02.217 DEBUG 3560 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:21:09.213 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=34", parameters={masked}
2025-10-08 20:21:09.214 DEBUG 3560 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:21:09.214  WARN 3560 --- [http-nio-8080-exec-1] r.k.s.b.demo.service.UserServiceImpl     : Запрос пользователя по ID: 34
2025-10-08 20:21:09.214 DEBUG 3560 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:21:09.216 TRACE 3560 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:21:09.217 DEBUG 3560 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:21:09.218 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:21:09.222 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:21:11.461 DEBUG 3560 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:21:11.461 DEBUG 3560 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:21:11.462  WARN 3560 --- [http-nio-8080-exec-2] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 20:21:11.462 DEBUG 3560 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:21:11.463 DEBUG 3560 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:11.463 TRACE 3560 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:21:11.464 DEBUG 3560 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:11.464 TRACE 3560 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:21:11.464 DEBUG 3560 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:11.464 TRACE 3560 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:21:11.465 DEBUG 3560 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:11.465 TRACE 3560 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:21:11.465 DEBUG 3560 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:11.465 TRACE 3560 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:21:11.467 DEBUG 3560 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:21:11.473 DEBUG 3560 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:21:13.281 DEBUG 3560 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 20:21:13.281 DEBUG 3560 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:21:13.282 DEBUG 3560 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:21:13.283 DEBUG 3560 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:21:23.966  WARN 3560 --- [http-nio-8080-exec-5] r.k.s.b.demo.service.UserServiceImpl     : Попытка загрузки пользователя: antoni
2025-10-08 20:21:23.967 DEBUG 3560 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 20:21:23.967 TRACE 3560 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [antoni]
2025-10-08 20:21:23.968 DEBUG 3560 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:23.968 TRACE 3560 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:21:24.047 DEBUG 3560 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/user", parameters={}
2025-10-08 20:21:24.047 DEBUG 3560 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.UserController#userProfile(User, Model)
2025-10-08 20:21:24.049 DEBUG 3560 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:21:24.058 DEBUG 3560 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:21:26.812 DEBUG 3560 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 20:21:26.812 DEBUG 3560 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:21:26.813 DEBUG 3560 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:21:26.814 DEBUG 3560 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:21:32.414  WARN 3560 --- [http-nio-8080-exec-9] r.k.s.b.demo.service.UserServiceImpl     : Попытка загрузки пользователя: admin
2025-10-08 20:21:32.414 DEBUG 3560 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 20:21:32.415 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 20:21:32.415 DEBUG 3560 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:32.416 TRACE 3560 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:21:32.493 DEBUG 3560 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:21:32.494 DEBUG 3560 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:21:32.494  WARN 3560 --- [http-nio-8080-exec-10] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 20:21:32.495 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:21:32.495 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:32.496 TRACE 3560 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:21:32.496 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:32.496 TRACE 3560 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:21:32.497 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:32.497 TRACE 3560 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:21:32.497 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:32.497 TRACE 3560 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:21:32.498 DEBUG 3560 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:21:32.498 TRACE 3560 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:21:32.499 DEBUG 3560 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:21:32.505 DEBUG 3560 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:21:43.714 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=20", parameters={masked}
2025-10-08 20:21:43.714 DEBUG 3560 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:21:43.715  WARN 3560 --- [http-nio-8080-exec-1] r.k.s.b.demo.service.UserServiceImpl     : Запрос пользователя по ID: 20
2025-10-08 20:21:43.715 DEBUG 3560 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:21:43.715 TRACE 3560 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:21:43.717 DEBUG 3560 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:21:43.718 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:21:43.721 DEBUG 3560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:22:13.388 DEBUG 3560 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 20:22:13.389 DEBUG 3560 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 20:22:13.390  WARN 3560 --- [http-nio-8080-exec-3] r.k.s.b.demo.service.UserServiceImpl     : Обновление пользователя: irina (ID: 20)
2025-10-08 20:22:13.390  WARN 3560 --- [http-nio-8080-exec-3] r.k.s.b.demo.service.UserServiceImpl     : Полученные roleIds для обновления: [1]
2025-10-08 20:22:13.390  WARN 3560 --- [http-nio-8080-exec-3] r.k.s.b.demo.service.UserServiceImpl     : Запрос пользователя по ID: 20
2025-10-08 20:22:13.390 DEBUG 3560 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:22:13.391 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:22:13.392  WARN 3560 --- [http-nio-8080-exec-3] r.k.s.b.demo.service.UserServiceImpl     : Пароль изменен, выполняется хэширование
2025-10-08 20:22:13.460  WARN 3560 --- [http-nio-8080-exec-3] r.k.s.b.demo.service.UserServiceImpl     : Установка ролей для пользователя: irina
2025-10-08 20:22:13.461 DEBUG 3560 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.id in (
            ?
        )
2025-10-08 20:22:13.461 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2025-10-08 20:22:13.462  WARN 3560 --- [http-nio-8080-exec-3] r.k.s.b.demo.service.UserServiceImpl     : Найдены роли по ID: [ROLE_USER]
2025-10-08 20:22:13.462  WARN 3560 --- [http-nio-8080-exec-3] r.k.s.b.demo.service.UserServiceImpl     : Установлены роли для irina: [ROLE_USER]
2025-10-08 20:22:13.462  WARN 3560 --- [http-nio-8080-exec-3] r.k.s.b.demo.service.UserServiceImpl     : Пользователь обновлен: irina с ролями: [ROLE_USER]
2025-10-08 20:22:13.462 DEBUG 3560 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 20:22:13.462 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [21]
2025-10-08 20:22:13.462 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Petrova@personal.orp.ru]
2025-10-08 20:22:13.462 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Ирина]
2025-10-08 20:22:13.462 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$sInHipxaqBYEAo40HiLWt.X2UO3iyL/rRHMMz8wwOY8/kB3wP75o.]
2025-10-08 20:22:13.462 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Петрова]
2025-10-08 20:22:13.462 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [irina]
2025-10-08 20:22:13.462 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [20]
2025-10-08 20:22:13.463 DEBUG 3560 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 20:22:13.463 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:22:13.463 DEBUG 3560 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:22:13.463 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:22:13.463 TRACE 3560 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 20:22:13.466 DEBUG 3560 --- [http-nio-8080-exec-3] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 20:22:13.466 DEBUG 3560 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 20:22:13.478 DEBUG 3560 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:22:13.479 DEBUG 3560 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:22:13.479  WARN 3560 --- [http-nio-8080-exec-4] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 20:22:13.480 DEBUG 3560 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:22:13.480 DEBUG 3560 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:22:13.481 TRACE 3560 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:22:13.481 DEBUG 3560 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:22:13.481 TRACE 3560 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:22:13.482 DEBUG 3560 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:22:13.482 TRACE 3560 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:22:13.482 DEBUG 3560 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:22:13.482 TRACE 3560 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:22:13.483 DEBUG 3560 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:22:13.483 TRACE 3560 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:22:13.484 DEBUG 3560 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:22:13.488 DEBUG 3560 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:22:40.525 DEBUG 3560 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/user", parameters={}
2025-10-08 20:22:40.525 DEBUG 3560 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.UserController#userProfile(User, Model)
2025-10-08 20:22:40.526 DEBUG 3560 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:22:40.527 DEBUG 3560 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:22:45.276 DEBUG 3560 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:22:45.276 DEBUG 3560 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:22:45.277  WARN 3560 --- [http-nio-8080-exec-6] r.k.s.b.demo.service.UserServiceImpl     : Запрос всех пользователей
2025-10-08 20:22:45.277 DEBUG 3560 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:22:45.278 DEBUG 3560 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:22:45.278 TRACE 3560 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:22:45.279 DEBUG 3560 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:22:45.279 TRACE 3560 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:22:45.279 DEBUG 3560 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:22:45.279 TRACE 3560 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:22:45.280 DEBUG 3560 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:22:45.280 TRACE 3560 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:22:45.280 DEBUG 3560 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:22:45.280 TRACE 3560 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:22:45.281 DEBUG 3560 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:22:45.287 DEBUG 3560 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:22:47.028 DEBUG 3560 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 20:22:47.028 DEBUG 3560 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:22:47.028 DEBUG 3560 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:22:47.029 DEBUG 3560 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:22:56.239  INFO 3560 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:22:56.241  INFO 3560 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 20:22:56.247  INFO 3560 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 20:31:54.736  INFO 14224 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 14224 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 20:31:54.738 DEBUG 14224 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 20:31:54.738  INFO 14224 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 20:31:55.083  INFO 14224 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 20:31:55.115  INFO 14224 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 20:31:55.387  INFO 14224 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 20:31:55.393  INFO 14224 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 20:31:55.393  INFO 14224 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 20:31:55.435  INFO 14224 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 20:31:55.435  INFO 14224 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 665 ms
2025-10-08 20:31:55.525  INFO 14224 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 20:31:55.551  INFO 14224 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 20:31:55.639  INFO 14224 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 20:31:55.691  INFO 14224 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 20:31:55.780  INFO 14224 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 20:31:55.789  INFO 14224 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 20:31:56.139  INFO 14224 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 20:31:56.144  INFO 14224 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:31:56.380  WARN 14224 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 20:31:56.462  INFO 14224 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e8fe7db, org.springframework.security.web.context.SecurityContextPersistenceFilter@6baee63b, org.springframework.security.web.header.HeaderWriterFilter@3cab07dd, org.springframework.security.web.csrf.CsrfFilter@53551fef, org.springframework.security.web.authentication.logout.LogoutFilter@2761156e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3539cf45, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@234bfc8c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@276aa33f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62e586a6, org.springframework.security.web.session.SessionManagementFilter@77988c45, org.springframework.security.web.access.ExceptionTranslationFilter@ef220e4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b360a82]
2025-10-08 20:31:56.521 DEBUG 14224 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 20:31:56.557 DEBUG 14224 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 20:31:56.565 DEBUG 14224 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 20:31:56.572 DEBUG 14224 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 20:31:56.576 DEBUG 14224 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 20:31:56.667  INFO 14224 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 20:31:56.672  INFO 14224 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.141 seconds (JVM running for 2.524)
2025-10-08 20:32:04.703  INFO 14224 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 20:32:04.704  INFO 14224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 20:32:04.704 DEBUG 14224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 20:32:04.704 DEBUG 14224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 20:32:04.704 DEBUG 14224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 20:32:04.704 DEBUG 14224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@56820446
2025-10-08 20:32:04.704 DEBUG 14224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@25e203e6
2025-10-08 20:32:04.705 DEBUG 14224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 20:32:04.705  INFO 14224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 20:32:04.716 DEBUG 14224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/", parameters={}
2025-10-08 20:32:04.720 DEBUG 14224 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:32:04.725 DEBUG 14224 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:32:04.856 DEBUG 14224 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:32:11.923 DEBUG 14224 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 20:32:11.924 TRACE 14224 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 20:32:11.935 DEBUG 14224 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:11.936 TRACE 14224 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:32:12.037 DEBUG 14224 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:32:12.038 DEBUG 14224 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:32:12.048 DEBUG 14224 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:32:12.049 DEBUG 14224 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:12.049 TRACE 14224 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:32:12.050 DEBUG 14224 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:12.050 TRACE 14224 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:32:12.051 DEBUG 14224 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:12.051 TRACE 14224 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:32:12.051 DEBUG 14224 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:12.051 TRACE 14224 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:32:12.051 DEBUG 14224 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:12.051 TRACE 14224 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:32:12.060 DEBUG 14224 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:32:12.087 DEBUG 14224 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:32:16.085 DEBUG 14224 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin/addUser", parameters={}
2025-10-08 20:32:16.086 DEBUG 14224 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showAddUserForm(Model)
2025-10-08 20:32:16.090 DEBUG 14224 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:32:16.095 DEBUG 14224 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:32:16.098 DEBUG 14224 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:32:19.140 DEBUG 14224 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:32:19.141 DEBUG 14224 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:32:19.142 DEBUG 14224 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:32:19.143 DEBUG 14224 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:19.143 TRACE 14224 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:32:19.144 DEBUG 14224 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:19.144 TRACE 14224 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:32:19.145 DEBUG 14224 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:19.145 TRACE 14224 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:32:19.145 DEBUG 14224 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:19.145 TRACE 14224 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:32:19.146 DEBUG 14224 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:19.146 TRACE 14224 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:32:19.147 DEBUG 14224 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:32:19.158 DEBUG 14224 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:32:21.573 DEBUG 14224 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=34", parameters={masked}
2025-10-08 20:32:21.573 DEBUG 14224 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:32:21.577  WARN 14224 --- [http-nio-8080-exec-6] r.k.s.b.demo.service.UserServiceImpl     : Пользователь с id не найден: 34
2025-10-08 20:32:21.578 DEBUG 14224 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:32:21.579 TRACE 14224 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:32:21.581 DEBUG 14224 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:32:21.582 DEBUG 14224 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:32:21.592 DEBUG 14224 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:32:50.185 DEBUG 14224 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/admin/editUser", parameters={masked}
2025-10-08 20:32:50.185 DEBUG 14224 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#updateUser(User, List)
2025-10-08 20:32:50.190  WARN 14224 --- [http-nio-8080-exec-7] r.k.s.b.demo.service.UserServiceImpl     : Пользователь с id не найден: 34
2025-10-08 20:32:50.191 DEBUG 14224 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:32:50.191 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:32:50.267 DEBUG 14224 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_ 
    where
        role0_.id in (
            ? , ?
        )
2025-10-08 20:32:50.267 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2025-10-08 20:32:50.267 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2025-10-08 20:32:50.275 DEBUG 14224 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    update
        users 
    set
        age=?,
        email=?,
        name=?,
        password=?,
        surname=?,
        username=? 
    where
        id=?
2025-10-08 20:32:50.276 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [25]
2025-10-08 20:32:50.276 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [Ivanov@administration.orp.ru]
2025-10-08 20:32:50.276 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [Антон]
2025-10-08 20:32:50.276 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [$2a$10$h5./zmQTcQvzj5ldOFs1B.8rReGI2jdFAmSH/04zq.diiMwov2Av2]
2025-10-08 20:32:50.276 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [Иванов]
2025-10-08 20:32:50.276 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [antoni]
2025-10-08 20:32:50.276 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [34]
2025-10-08 20:32:50.278 DEBUG 14224 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        user_roles 
    where
        user_id=?
2025-10-08 20:32:50.278 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:32:50.279 DEBUG 14224 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:32:50.279 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:32:50.279 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2025-10-08 20:32:50.280 DEBUG 14224 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        user_roles
        (user_id, role_id) 
    values
        (?, ?)
2025-10-08 20:32:50.280 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:32:50.280 TRACE 14224 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2025-10-08 20:32:50.284 DEBUG 14224 --- [http-nio-8080-exec-7] o.s.web.servlet.view.RedirectView        : View name 'redirect:', model {}
2025-10-08 20:32:50.284 DEBUG 14224 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-10-08 20:32:50.294 DEBUG 14224 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:32:50.294 DEBUG 14224 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:32:50.295 DEBUG 14224 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:32:50.296 DEBUG 14224 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:50.296 TRACE 14224 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:32:50.297 DEBUG 14224 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:50.297 TRACE 14224 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:32:50.298 DEBUG 14224 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:50.298 TRACE 14224 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:32:50.298 DEBUG 14224 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:50.298 TRACE 14224 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:32:50.299 DEBUG 14224 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:32:50.299 TRACE 14224 --- [http-nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:32:50.300 DEBUG 14224 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:32:50.306 DEBUG 14224 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:33:08.814 DEBUG 14224 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 20:33:08.815 DEBUG 14224 --- [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:33:08.815 DEBUG 14224 --- [http-nio-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:33:08.817 DEBUG 14224 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:33:11.997  INFO 14224 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:33:11.998  INFO 14224 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 20:33:12.003  INFO 14224 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 20:41:05.471  INFO 15632 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 15632 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 20:41:05.472 DEBUG 15632 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 20:41:05.472  INFO 15632 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 20:41:05.816  INFO 15632 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 20:41:05.846  INFO 15632 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 20:41:06.115  INFO 15632 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 20:41:06.120  INFO 15632 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 20:41:06.120  INFO 15632 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 20:41:06.162  INFO 15632 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 20:41:06.162  INFO 15632 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 657 ms
2025-10-08 20:41:06.251  INFO 15632 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 20:41:06.277  INFO 15632 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 20:41:06.364  INFO 15632 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 20:41:06.418  INFO 15632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 20:41:06.507  INFO 15632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 20:41:06.516  INFO 15632 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 20:41:06.862  INFO 15632 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 20:41:06.867  INFO 15632 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:41:07.045  WARN 15632 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\configs\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\service\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'webSecurityConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?
2025-10-08 20:41:07.046  INFO 15632 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:41:07.047  INFO 15632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 20:41:07.051  INFO 15632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 20:41:07.052  INFO 15632 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-08 20:41:07.057  INFO 15632 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-08 20:41:07.065 ERROR 15632 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  webSecurityConfig defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\configs\WebSecurityConfig.class]
↑     ↓
|  userServiceImpl defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\service\UserServiceImpl.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-10-08 20:41:47.321  INFO 6784 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 6784 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 20:41:47.323 DEBUG 6784 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 20:41:47.323  INFO 6784 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 20:41:47.655  INFO 6784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 20:41:47.685  INFO 6784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 20:41:47.954  INFO 6784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 20:41:47.959  INFO 6784 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 20:41:47.959  INFO 6784 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 20:41:48.000  INFO 6784 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 20:41:48.000  INFO 6784 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 647 ms
2025-10-08 20:41:48.090  INFO 6784 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 20:41:48.116  INFO 6784 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 20:41:48.203  INFO 6784 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 20:41:48.257  INFO 6784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 20:41:48.346  INFO 6784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 20:41:48.354  INFO 6784 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 20:41:48.695  INFO 6784 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 20:41:48.700  INFO 6784 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:41:48.880  WARN 6784 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\configs\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl' defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\service\UserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'webSecurityConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?
2025-10-08 20:41:48.880  INFO 6784 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:41:48.881  INFO 6784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 20:41:48.886  INFO 6784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 20:41:48.886  INFO 6784 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-08 20:41:48.891  INFO 6784 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-08 20:41:48.900 ERROR 6784 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  webSecurityConfig defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\configs\WebSecurityConfig.class]
↑     ↓
|  userServiceImpl defined in file [C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes\ru\kata\spring\boot_security\demo\service\UserServiceImpl.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-10-08 20:42:06.996  INFO 16780 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Starting SpringBootSecurityDemoApplication using Java 23 on Base with PID 16780 (C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security\target\classes started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 20:42:06.997 DEBUG 16780 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 20:42:06.997  INFO 16780 --- [main] .s.b.d.SpringBootSecurityDemoApplication : No active profile set, falling back to default profiles: default
2025-10-08 20:42:07.340  INFO 16780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 20:42:07.369  INFO 16780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2025-10-08 20:42:07.639  INFO 16780 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-10-08 20:42:07.644  INFO 16780 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-08 20:42:07.644  INFO 16780 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]
2025-10-08 20:42:07.699  INFO 16780 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-08 20:42:07.699  INFO 16780 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 670 ms
2025-10-08 20:42:07.790  INFO 16780 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 20:42:07.816  INFO 16780 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 20:42:07.905  INFO 16780 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 20:42:07.957  INFO 16780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 20:42:08.046  INFO 16780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 20:42:08.055  INFO 16780 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 20:42:08.402  INFO 16780 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 20:42:08.407  INFO 16780 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:42:08.616  WARN 16780 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 20:42:08.699  INFO 16780 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29174dfe, org.springframework.security.web.context.SecurityContextPersistenceFilter@19f99aaf, org.springframework.security.web.header.HeaderWriterFilter@570127fa, org.springframework.security.web.csrf.CsrfFilter@3909308c, org.springframework.security.web.authentication.logout.LogoutFilter@6d0bcf8c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@71e409f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19f1f330, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b32b678, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@319d106c, org.springframework.security.web.session.SessionManagementFilter@2ffcdc9b, org.springframework.security.web.access.ExceptionTranslationFilter@4136b193, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@de40aa1]
2025-10-08 20:42:08.755 DEBUG 16780 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 20:42:08.788 DEBUG 16780 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 20:42:08.796 DEBUG 16780 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 20:42:08.803 DEBUG 16780 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 20:42:08.807 DEBUG 16780 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 20:42:08.893  INFO 16780 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-10-08 20:42:08.898  INFO 16780 --- [main] .s.b.d.SpringBootSecurityDemoApplication : Started SpringBootSecurityDemoApplication in 2.103 seconds (JVM running for 2.447)
2025-10-08 20:42:42.985  INFO 16780 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-08 20:42:42.985  INFO 16780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-08 20:42:42.985 DEBUG 16780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-08 20:42:42.985 DEBUG 16780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-08 20:42:42.986 DEBUG 16780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-08 20:42:42.986 DEBUG 16780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2aac87ab
2025-10-08 20:42:42.986 DEBUG 16780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@458b4487
2025-10-08 20:42:42.986 DEBUG 16780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-08 20:42:42.986  INFO 16780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-08 20:42:43.002 DEBUG 16780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for POST "/access-denied", parameters={masked}
2025-10-08 20:42:43.005 DEBUG 16780 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="access-denied"]
2025-10-08 20:42:43.007  WARN 16780 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-10-08 20:42:43.007 DEBUG 16780 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 405
2025-10-08 20:42:43.024 DEBUG 16780 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-10-08 20:42:43.024 DEBUG 16780 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:42:43.028 DEBUG 16780 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:42:43.147 DEBUG 16780 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:42:49.754 DEBUG 16780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_ 
    where
        user0_.username=?
2025-10-08 20:42:49.755 TRACE 16780 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [admin]
2025-10-08 20:42:49.766 DEBUG 16780 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:42:49.767 TRACE 16780 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:42:49.867 DEBUG 16780 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:42:49.868 DEBUG 16780 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:42:49.879 DEBUG 16780 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:42:49.881 DEBUG 16780 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:42:49.881 TRACE 16780 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:42:49.881 DEBUG 16780 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:42:49.882 TRACE 16780 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:42:49.882 DEBUG 16780 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:42:49.882 TRACE 16780 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:42:49.883 DEBUG 16780 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:42:49.883 TRACE 16780 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:42:49.883 DEBUG 16780 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:42:49.883 TRACE 16780 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:42:49.887 DEBUG 16780 --- [http-nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:42:49.911 DEBUG 16780 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:42:54.662 DEBUG 16780 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/admin/editUser?id=35", parameters={masked}
2025-10-08 20:42:54.663 DEBUG 16780 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#showEditUserForm(Long, Model)
2025-10-08 20:42:54.669 DEBUG 16780 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_0_,
        user0_.age as age2_2_0_,
        user0_.email as email3_2_0_,
        user0_.name as name4_2_0_,
        user0_.password as password5_2_0_,
        user0_.surname as surname6_2_0_,
        user0_.username as username7_2_0_,
        roles1_.user_id as user_id1_1_1_,
        role2_.id as role_id2_1_1_,
        role2_.id as id1_0_2_,
        role2_.name as name2_0_2_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    left outer join
        roles role2_ 
            on roles1_.role_id=role2_.id 
    where
        user0_.id=?
2025-10-08 20:42:54.670 TRACE 16780 --- [http-nio-8080-exec-5] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:42:54.674 DEBUG 16780 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        role0_.id as id1_0_,
        role0_.name as name2_0_ 
    from
        roles role0_
2025-10-08 20:42:54.677 DEBUG 16780 --- [http-nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:42:54.687 DEBUG 16780 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:42:56.538 DEBUG 16780 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/admin", parameters={}
2025-10-08 20:42:56.538 DEBUG 16780 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ru.kata.spring.boot_security.demo.controller.AdminController#adminPage(Model)
2025-10-08 20:42:56.540 DEBUG 16780 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        user0_.id as id1_2_,
        user0_.age as age2_2_,
        user0_.email as email3_2_,
        user0_.name as name4_2_,
        user0_.password as password5_2_,
        user0_.surname as surname6_2_,
        user0_.username as username7_2_ 
    from
        users user0_
2025-10-08 20:42:56.541 DEBUG 16780 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:42:56.541 TRACE 16780 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [35]
2025-10-08 20:42:56.542 DEBUG 16780 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:42:56.542 TRACE 16780 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [34]
2025-10-08 20:42:56.543 DEBUG 16780 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:42:56.543 TRACE 16780 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [20]
2025-10-08 20:42:56.543 DEBUG 16780 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:42:56.543 TRACE 16780 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [15]
2025-10-08 20:42:56.544 DEBUG 16780 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_1_0_,
        roles0_.role_id as role_id2_1_0_,
        role1_.id as id1_0_1_,
        role1_.name as name2_0_1_ 
    from
        user_roles roles0_ 
    inner join
        roles role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2025-10-08 20:42:56.544 TRACE 16780 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [14]
2025-10-08 20:42:56.545 DEBUG 16780 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:42:56.554 DEBUG 16780 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:42:59.112 DEBUG 16780 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/login?logout", parameters={masked}
2025-10-08 20:42:59.112 DEBUG 16780 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-10-08 20:42:59.113 DEBUG 16780 --- [http-nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8]
2025-10-08 20:42:59.115 DEBUG 16780 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-08 20:43:02.163  INFO 16780 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:43:02.164  INFO 16780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 20:43:02.169  INFO 16780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-08 20:43:25.701  INFO 14960 --- [main] d.SpringBootSecurityDemoApplicationTests : Starting SpringBootSecurityDemoApplicationTests using Java 23 on Base with PID 14960 (started by Anton in C:\Users\Антон\IdeaProjects\Lesson\Spring_Zaur\PP_3_1_2_Boot_Security)
2025-10-08 20:43:25.702 DEBUG 14960 --- [main] d.SpringBootSecurityDemoApplicationTests : Running with Spring Boot v2.6.2, Spring v5.3.14
2025-10-08 20:43:25.702  INFO 14960 --- [main] d.SpringBootSecurityDemoApplicationTests : No active profile set, falling back to default profiles: default
2025-10-08 20:43:25.723 DEBUG 14960 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7997b197
2025-10-08 20:43:26.133  INFO 14960 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-08 20:43:26.170  INFO 14960 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2025-10-08 20:43:26.547  INFO 14960 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-08 20:43:26.582  INFO 14960 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final
2025-10-08 20:43:26.680  INFO 14960 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-10-08 20:43:26.751  INFO 14960 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-08 20:43:26.878  INFO 14960 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-08 20:43:26.889  INFO 14960 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-10-08 20:43:27.266  INFO 14960 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-10-08 20:43:27.271  INFO 14960 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:43:27.584  WARN 14960 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-08 20:43:27.738  INFO 14960 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7db2b614, org.springframework.security.web.context.SecurityContextPersistenceFilter@29431f61, org.springframework.security.web.header.HeaderWriterFilter@480994d3, org.springframework.security.web.csrf.CsrfFilter@4a86be01, org.springframework.security.web.authentication.logout.LogoutFilter@6a97517, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1860b107, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6244afc4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26a202ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34d5eac, org.springframework.security.web.session.SessionManagementFilter@795131d6, org.springframework.security.web.access.ExceptionTranslationFilter@31450fc0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7bd1098]
2025-10-08 20:43:27.961 DEBUG 14960 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-08 20:43:28.007 DEBUG 14960 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2025-10-08 20:43:28.026 DEBUG 14960 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /user, /admin, /login, /access-denied] in 'viewControllerHandlerMapping'
2025-10-08 20:43:28.040 DEBUG 14960 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-08 20:43:28.048 DEBUG 14960 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-08 20:43:28.182  INFO 14960 --- [main] d.SpringBootSecurityDemoApplicationTests : Started SpringBootSecurityDemoApplicationTests in 2.659 seconds (JVM running for 3.221)
2025-10-08 20:43:28.259 DEBUG 14960 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@7997b197, started on Wed Oct 08 20:43:25 MSK 2025
2025-10-08 20:43:28.262  INFO 14960 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-08 20:43:28.263  INFO 14960 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-08 20:43:28.271  INFO 14960 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
